(function(){"use strict";var Mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ie={exports:{}},Bt;function vr(){return Bt||(Bt=1,(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var t=(function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,o={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function h(f){return f instanceof l?new l(f.type,h(f.content),f.alias):Array.isArray(f)?f.map(h):f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(h){return Object.prototype.toString.call(h).slice(8,-1)},objId:function(h){return h.__id||Object.defineProperty(h,"__id",{value:++s}),h.__id},clone:function h(f,g){g=g||{};var p,m;switch(a.util.type(f)){case"Object":if(m=a.util.objId(f),g[m])return g[m];p={},g[m]=p;for(var _ in f)f.hasOwnProperty(_)&&(p[_]=h(f[_],g));return p;case"Array":return m=a.util.objId(f),g[m]?g[m]:(p=[],g[m]=p,f.forEach(function(k,v){p[v]=h(k,g)}),p);default:return f}},getLanguage:function(h){for(;h;){var f=i.exec(h.className);if(f)return f[1].toLowerCase();h=h.parentElement}return"none"},setLanguage:function(h,f){h.className=h.className.replace(RegExp(i,"gi"),""),h.classList.add("language-"+f)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(p){var h=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(p.stack)||[])[1];if(h){var f=document.getElementsByTagName("script");for(var g in f)if(f[g].src==h)return f[g]}return null}},isActive:function(h,f,g){for(var p="no-"+f;h;){var m=h.classList;if(m.contains(f))return!0;if(m.contains(p))return!1;h=h.parentElement}return!!g}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(h,f){var g=a.util.clone(a.languages[h]);for(var p in f)g[p]=f[p];return g},insertBefore:function(h,f,g,p){p=p||a.languages;var m=p[h],_={};for(var k in m)if(m.hasOwnProperty(k)){if(k==f)for(var v in g)g.hasOwnProperty(v)&&(_[v]=g[v]);g.hasOwnProperty(k)||(_[k]=m[k])}var F=p[h];return p[h]=_,a.languages.DFS(a.languages,function(T,$){$===F&&T!=h&&(this[T]=_)}),_},DFS:function h(f,g,p,m){m=m||{};var _=a.util.objId;for(var k in f)if(f.hasOwnProperty(k)){g.call(f,k,f[k],p||k);var v=f[k],F=a.util.type(v);F==="Object"&&!m[_(v)]?(m[_(v)]=!0,h(v,g,null,m)):F==="Array"&&!m[_(v)]&&(m[_(v)]=!0,h(v,g,k,m))}}},plugins:{},highlightAll:function(h,f){a.highlightAllUnder(document,h,f)},highlightAllUnder:function(h,f,g){var p={callback:g,container:h,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",p),p.elements=Array.prototype.slice.apply(p.container.querySelectorAll(p.selector)),a.hooks.run("before-all-elements-highlight",p);for(var m=0,_;_=p.elements[m++];)a.highlightElement(_,f===!0,p.callback)},highlightElement:function(h,f,g){var p=a.util.getLanguage(h),m=a.languages[p];a.util.setLanguage(h,p);var _=h.parentElement;_&&_.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(_,p);var k=h.textContent,v={element:h,language:p,grammar:m,code:k};function F($){v.highlightedCode=$,a.hooks.run("before-insert",v),v.element.innerHTML=v.highlightedCode,a.hooks.run("after-highlight",v),a.hooks.run("complete",v),g&&g.call(v.element)}if(a.hooks.run("before-sanity-check",v),_=v.element.parentElement,_&&_.nodeName.toLowerCase()==="pre"&&!_.hasAttribute("tabindex")&&_.setAttribute("tabindex","0"),!v.code){a.hooks.run("complete",v),g&&g.call(v.element);return}if(a.hooks.run("before-highlight",v),!v.grammar){F(a.util.encode(v.code));return}if(f&&r.Worker){var T=new Worker(a.filename);T.onmessage=function($){F($.data)},T.postMessage(JSON.stringify({language:v.language,code:v.code,immediateClose:!0}))}else F(a.highlight(v.code,v.grammar,v.language))},highlight:function(h,f,g){var p={code:h,grammar:f,language:g};if(a.hooks.run("before-tokenize",p),!p.grammar)throw new Error('The language "'+p.language+'" has no grammar.');return p.tokens=a.tokenize(p.code,p.grammar),a.hooks.run("after-tokenize",p),l.stringify(a.util.encode(p.tokens),p.language)},tokenize:function(h,f){var g=f.rest;if(g){for(var p in g)f[p]=g[p];delete f.rest}var m=new c;return y(m,m.head,h),d(h,m,f,m.head,0),E(m)},hooks:{all:{},add:function(h,f){var g=a.hooks.all;g[h]=g[h]||[],g[h].push(f)},run:function(h,f){var g=a.hooks.all[h];if(!(!g||!g.length))for(var p=0,m;m=g[p++];)m(f)}},Token:l};r.Prism=a;function l(h,f,g,p){this.type=h,this.content=f,this.alias=g,this.length=(p||"").length|0}l.stringify=function h(f,g){if(typeof f=="string")return f;if(Array.isArray(f)){var p="";return f.forEach(function(F){p+=h(F,g)}),p}var m={type:f.type,content:h(f.content,g),tag:"span",classes:["token",f.type],attributes:{},language:g},_=f.alias;_&&(Array.isArray(_)?Array.prototype.push.apply(m.classes,_):m.classes.push(_)),a.hooks.run("wrap",m);var k="";for(var v in m.attributes)k+=" "+v+'="'+(m.attributes[v]||"").replace(/"/g,"&quot;")+'"';return"<"+m.tag+' class="'+m.classes.join(" ")+'"'+k+">"+m.content+"</"+m.tag+">"};function u(h,f,g,p){h.lastIndex=f;var m=h.exec(g);if(m&&p&&m[1]){var _=m[1].length;m.index+=_,m[0]=m[0].slice(_)}return m}function d(h,f,g,p,m,_){for(var k in g)if(!(!g.hasOwnProperty(k)||!g[k])){var v=g[k];v=Array.isArray(v)?v:[v];for(var F=0;F<v.length;++F){if(_&&_.cause==k+","+F)return;var T=v[F],$=T.inside,gr=!!T.lookbehind,pr=!!T.greedy,Es=T.alias;if(pr&&!T.pattern.global){var As=T.pattern.toString().match(/[imsuy]*$/)[0];T.pattern=RegExp(T.pattern.source,As+"g")}for(var mr=T.pattern||T,B=p.next,U=m;B!==f.tail&&!(_&&U>=_.reach);U+=B.value.length,B=B.next){var se=B.value;if(f.length>h.length)return;if(!(se instanceof l)){var Me=1,H;if(pr){if(H=u(mr,U,h,gr),!H||H.index>=h.length)break;var Be=H.index,Ts=H.index+H[0].length,X=U;for(X+=B.value.length;Be>=X;)B=B.next,X+=B.value.length;if(X-=B.value.length,U=X,B.value instanceof l)continue;for(var ye=B;ye!==f.tail&&(X<Ts||typeof ye.value=="string");ye=ye.next)Me++,X+=ye.value.length;Me--,se=h.slice(U,X),H.index-=U}else if(H=u(mr,0,se,gr),!H)continue;var Be=H.index,Oe=H[0],Nt=se.slice(0,Be),br=se.slice(Be+Oe.length),Ft=U+se.length;_&&Ft>_.reach&&(_.reach=Ft);var $e=B.prev;Nt&&($e=y(f,$e,Nt),U+=Nt.length),b(f,$e,Me);var Ns=new l(k,$?a.tokenize(Oe,$):Oe,Es,Oe);if(B=y(f,$e,Ns),br&&y(f,B,br),Me>1){var Rt={cause:k+","+F,reach:Ft};d(h,f,g,B.prev,U,Rt),_&&Rt.reach>_.reach&&(_.reach=Rt.reach)}}}}}}function c(){var h={value:null,prev:null,next:null},f={value:null,prev:h,next:null};h.next=f,this.head=h,this.tail=f,this.length=0}function y(h,f,g){var p=f.next,m={value:g,prev:f,next:p};return f.next=m,p.prev=m,h.length++,m}function b(h,f,g){for(var p=f.next,m=0;m<g&&p!==h.tail;m++)p=p.next;f.next=p,p.prev=f,h.length-=m}function E(h){for(var f=[],g=h.head.next;g!==h.tail;)f.push(g.value),g=g.next;return f}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(h){var f=JSON.parse(h.data),g=f.language,p=f.code,m=f.immediateClose;r.postMessage(a.highlight(p,a.languages[g],g)),m&&r.close()},!1)),a;var x=a.util.currentScript();x&&(a.filename=x.src,x.hasAttribute("data-manual")&&(a.manual=!0));function w(){a.manual||a.highlightAll()}if(!a.manual){var C=document.readyState;C==="loading"||C==="interactive"&&x&&x.defer?document.addEventListener("DOMContentLoaded",w):window.requestAnimationFrame?window.requestAnimationFrame(w):window.setTimeout(w,16)}return a})(e);n.exports&&(n.exports=t),typeof Mt<"u"&&(Mt.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(i,s){var o={};o["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[s]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};a["language-"+s]={pattern:/[\s\S]+/,inside:t.languages[s]};var l={};l[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:a},t.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(r,i){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:t.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,(function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))})(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,(function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",i=function(x,w){return"✖ Error "+x+" while fetching file: "+w},s="✖ Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",u="loaded",d="failed",c="pre[data-src]:not(["+a+'="'+u+'"]):not(['+a+'="'+l+'"])';function y(x,w,C){var h=new XMLHttpRequest;h.open("GET",x,!0),h.onreadystatechange=function(){h.readyState==4&&(h.status<400&&h.responseText?w(h.responseText):h.status>=400?C(i(h.status,h.statusText)):C(s))},h.send(null)}function b(x){var w=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(x||"");if(w){var C=Number(w[1]),h=w[2],f=w[3];return h?f?[C,Number(f)]:[C,void 0]:[C,C]}}t.hooks.add("before-highlightall",function(x){x.selector+=", "+c}),t.hooks.add("before-sanity-check",function(x){var w=x.element;if(w.matches(c)){x.code="",w.setAttribute(a,l);var C=w.appendChild(document.createElement("CODE"));C.textContent=r;var h=w.getAttribute("data-src"),f=x.language;if(f==="none"){var g=(/\.(\w+)$/.exec(h)||[,"none"])[1];f=o[g]||g}t.util.setLanguage(C,f),t.util.setLanguage(w,f);var p=t.plugins.autoloader;p&&p.loadLanguages(f),y(h,function(m){w.setAttribute(a,u);var _=b(w.getAttribute("data-range"));if(_){var k=m.split(/\r\n?|\n/g),v=_[0],F=_[1]==null?k.length:_[1];v<0&&(v+=k.length),v=Math.max(0,Math.min(v-1,k.length)),F<0&&(F+=k.length),F=Math.max(0,Math.min(F,k.length)),m=k.slice(v,F).join(`
`),w.hasAttribute("data-start")||w.setAttribute("data-start",String(v+1))}C.textContent=m,t.highlightElement(C)},function(m){w.setAttribute(a,d),C.textContent=m})}}),t.plugins.fileHighlight={highlight:function(w){for(var C=(w||document).querySelectorAll(c),h=0,f;f=C[h++];)t.highlightElement(f)}};var E=!1;t.fileHighlight=function(){E||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),E=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(Ie)),Ie.exports}var wr=vr();const _r=yr(wr),S={log:!1,logErrors:!0,editableClass:"js-editable",editableDisabledClass:"js-editable-disabled",pastingAttribute:"data-editable-is-pasting",trimLeadingAndTrailingWhitespaces:!0,boldMarkup:{type:"tag",name:"strong",attribs:{},trim:!0},italicMarkup:{type:"tag",name:"em",attribs:{},trim:!0},underlineMarkup:{type:"tag",name:"u",attribs:{},trim:!1},linkMarkup:{type:"tag",name:"a",attribs:{},trim:!0},pastedHtmlRules:{allowedElements:{a:{href:!0,rel:!0,target:!0},strong:{},em:{},br:{}},allowedPlainTextElements:{br:{}},requiredAttributes:{a:["href"]},transformElements:{b:"strong",i:"em"},splitIntoBlocks:["h1","h2","h3","h4","h5","h6","p","blockquote"],blockLevelElements:["h1","h2","h3","h4","h5","h6","div","p","pre","hr","blockquote","article","figure","header","footer","ul","ol","li","section","table","video"],blacklistedElements:["style","script"],keepInternalRelativeLinks:!1,replaceQuotes:{}}};function Q(...n){if(S.logErrors===!1)return;const e=n.length===1?n[0]:n;if(global.console){if(typeof console.error=="function"){console.error(e);return}console.log(e)}}const Cr=Object.prototype.toString,xr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ot(n){return n.replace(/\s+$/,"")}function De(n){return n.replace(/^\s+|\s+$/g,"")}function $t(n){return Cr.call(n)==="[object String]"}function Sr(n,e){return n.replace(/[&<>]/g,function(t){return xr[t]||t})}function kr(n,e,t){if(!n)return"";n=`${n}`;const r=n.lastIndexOf(e);return r===-1?n:`${n.slice(0,r)}${t}${n.slice(r+e.length)}`}function Er(n){return/\S+\s{1}$/.test(n)}const M=1,R=3,Pe=11;class oe{constructor(e,t){this.current=this.previous=this.nextNode=this.root=e,this.iteratorFunc=this[t||"getNext"]}[Symbol.iterator](){return this}getNextTextNode(){let e;for(;e=this.getNext();)if(e.nodeType===R&&e.data!=="")return e}getPreviousTextNode(){let e;for(;e=this.getPrevious();)if(e.nodeType===R&&e.data!=="")return e}next(){const e=this.iteratorFunc();return e?{value:e}:{done:!0,value:void 0}}getNext(){let e=this.current=this.nextNode,t;if(this.nextNode=void 0,this.current)if(t=e.firstChild,t&&e.getAttribute?.("data-editable")!=="remove")this.nextNode=t;else for(;e!==this.root&&e;){const r=e.nextSibling;if(r){this.nextNode=r;break}e=e.parentNode}return this.current}getPrevious(){let e=this.current=this.previous,t;if(this.previous=void 0,this.current)if(t=e.lastChild,t&&e.getAttribute?.("data-editable")!=="remove")this.previous=t;else for(;e!==this.root&&e;){const r=e.previousSibling;if(r){this.previous=r;break}e=e.parentNode}return this.current}replaceCurrent(e){this.current=e,this.nextNode=void 0,this.previous=void 0;let t=this.current;for(;t!==this.root&&t;){const r=t.nextSibling;if(r){this.nextNode=r;break}t=t.parentNode}}}const Y=(n,e,t)=>{if(typeof n=="string"){const r=e.querySelectorAll?e:e.ownerDocument,i=t||e;return Array.from(i.querySelectorAll?i.querySelectorAll(n):r.querySelectorAll(n))}return n.tagName?[n]:Array.isArray(n)?n:Array.from(n)},It=(n,e)=>typeof n=="string"?e.querySelector(n):n.tagName?n:n[0]?n[0]:n,Dt=(n,e=window)=>{const t=e.document.createElement("div");return t.innerHTML=n,t.firstElementChild},ae=(n,e)=>{if(!n)return;let t=n;for(;t&&!t.closest;)t=t.parentNode;if(t&&t.closest)return t.closest(e)},z=(n=window)=>n.document.createRange(),Pt=(n=window)=>{const e=n.document.getSelection?n.document.getSelection():null;return e||(n.getSelection?n.getSelection():null)},He=(n,e,t,r=window)=>{const i=[],s=r.document.createNodeIterator(n.commonAncestorContainer,NodeFilter.SHOW_ALL,{acceptNode(a){return n.intersectsNode(a)&&e.includes(a.nodeType)&&a!==n.commonAncestorContainer?typeof t=="function"?t(a)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});let o;for(;o=s.nextNode();)i.push(o);return i},We=n=>{n.startContainer.compareDocumentPosition(n.endContainer)===Node.DOCUMENT_POSITION_FOLLOWING&&n.setStartBefore(n.endContainer),n.endContainer.compareDocumentPosition(n.startContainer)===Node.DOCUMENT_POSITION_PRECEDING&&n.setEndAfter(n.startContainer)},Ar=(n,e)=>n.compareBoundaryPoints(Range.START_TO_START,e)<=0&&n.compareBoundaryPoints(Range.END_TO_END,e)>=0,Tr=(n,e)=>{const t=document.createRange();t.selectNodeContents(e);const r=n.compareBoundaryPoints(Range.START_TO_START,t),i=n.compareBoundaryPoints(Range.END_TO_END,t);return r<=0&&i>=0},Nr=(n,e)=>{const t=document.createRange();t.selectNodeContents(n);const r=e.compareBoundaryPoints(Range.START_TO_START,t),i=e.compareBoundaryPoints(Range.END_TO_END,t);return r>=0&&i<=0},Ht=n=>n&&(n.nodeType===Node.TEXT_NODE||n.nodeType===Node.COMMENT_NODE),Wt=(n,e)=>n.splitText(e),Fr=n=>{const e=n.startContainer,t=n.startOffset,r=n.endContainer,i=n.endOffset;if(Ht(r)&&i>0&&i<r.length&&Wt(r,i),Ht(e)&&t>0&&t<e.length){const s=Wt(e,t);n.setStart(s,0)}},qt=(n,e)=>{const t=n.cloneRange();t.setStart(e,0),t.setEnd(n.startContainer,n.startOffset);const r=n.toString(),i=t.toString().length,s=i+r.length;return{start:i,end:s,text:r}},jt=(n,e)=>n.startContainer===e.startContainer&&n.startOffset===e.startOffset&&n.endContainer===e.endContainer&&n.endOffset===e.endOffset,Rr=(n,e=window)=>{const t=e.document.createElement("div");return t.appendChild(n.cloneContents()),t.innerHTML},Lr=n=>{const t=n.getRangeAt(0).getClientRects(),r=[];for(let i=0;i<t.length;i++){const s=t[i];r.push({top:s.top,left:s.left,bottom:s.bottom,right:s.right,width:s.width,height:s.height})}return r};function qe({root:n,startContainer:e,startOffset:t,whitespacesOnTheLeft:r}){if(!(e.nodeType===R))return qe({root:n,startContainer:e.childNodes[t],startOffset:0,whitespacesOnTheLeft:r});const s=t+r;if(e.length>s)return[e,s];const o=new oe(n);o.nextNode=e,o.getNextTextNode();const a=o.getNextTextNode();if(!a){const l=o.getPreviousTextNode();if(!l)throw new Error("No previous text node found");return[l,l.length]}return qe({root:n,startContainer:a,startOffset:0,whitespacesOnTheLeft:s-e.length})}function je({root:n,endContainer:e,endOffset:t,whitespacesOnTheRight:r}){if(!(e.nodeType===R)){const l=!e.childNodes[t-1],u=l?e.childNodes[t]:e.childNodes[t-1];let d=0;return l||(d=u.nodeType===R?u.length:u.childNodes.length),je({root:n,endContainer:u,endOffset:d,whitespacesOnTheRight:r})}const s=t-r;if(s>0)return[e,s];const o=new oe(n);o.previous=e,o.getPreviousTextNode();const a=o.getPreviousTextNode();if(!a){const l=o.getNextTextNode();if(!l)throw new Error("No next text node found");return[l,0]}return je({root:n,endContainer:a,endOffset:a.length,whitespacesOnTheRight:r-t})}function Ve(n){if(n=n.jquery?n[0]:n,n&&n.classList&&n.classList.contains(S.editableClass))return n;const e=ae(n,`.${S.editableClass}`);return e||ae(n,'[contenteditable="true"]')||null}function ve(n){let e=0,t=n.previousSibling;for(;t!==null;)e++,t=t.previousSibling;return e}function Vt(n){const e=Array.from(n.childNodes);for(const t of e)if(t.nodeType===R&&!Ut(t)||t.nodeType===M)return!1;return!0}function Ut(n){return n.nodeType===R&&!n.nodeValue}function Qt(n){return n.nodeType===R&&Ue(n)===0}function zt(n){return n.nodeType===M&&n.tagName==="BR"}function Ue(n){if(n.nodeType===R){const t=n.nodeValue;return t?Ot(t).length:0}let e=0;return Array.from(n.childNodes).reverse().every((t,r,i)=>Qt(t)||zt(t)?!0:(e=i.length-r,!1)),e}function we(n,e,t){if(e===n)return ze(e,t);if(ze(e,t)){const r=ve(e),i=e.parentNode;return i?we(n,i,r):!1}return!1}function Qe(n,e,t){if(e===n)return Ze(e,t);if(Ze(e,t)){const r=ve(e)+1,i=e.parentNode;return i?Qe(n,i,r):!1}return!1}function ze(n,e){if(n.nodeType===R)return e===0;if(n.childNodes.length===0)return!0;const t=n.firstChild;return n.childNodes.length===1&&t&&t.nodeType===M&&t.getAttribute("data-editable")==="remove"?!0:n.childNodes[e]===n.firstChild}function Ze(n,e){return n.nodeType===R?e===n.length:n.childNodes.length===0?!0:e>0?n.childNodes[e-1]===n.lastChild:!1}function _e(n,e,t){if(e===n)return Ke(e,t);if(Ke(e,t)){const r=ve(e)+1,i=e.parentNode;return i?_e(n,i,r):!1}return!1}function Ke(n,e){if(n.nodeType===R){const t=n.nodeValue;if(!t)return e===0;const r=Ot(t);return e>=r.length}return n.childNodes.length===0?!0:e>=Ue(n)}function Zt(n,e){let t,r,i;if(n.nodeType!==e.nodeType||n.nodeName!==e.nodeName)return!1;if(n.nodeType!==1||e.nodeType!==1)return!0;const s=n,o=e;for(t=0,r=s.attributes.length;t<r;t++)if(i=s.attributes[t],o.getAttribute(i.name)!==i.value)return!1;return!0}function Ce(n){return n.lastChild?Ce(n.lastChild):n}function Mr(n){return console.warn("Editable.js: Using obsolete function parser.latestCild(), use lastChild() instead"),Ce(n)}function Ge(n){return!!(n&&n.nodeType===Pe&&n.childNodes.length===0)}function Br(n,e){switch((e.currentStyle||n.getComputedStyle(e,"")).display){case"inline":case"inline-block":return!0;default:return!1}}const Or=Object.freeze(Object.defineProperty({__proto__:null,getHost:Ve,getNodeIndex:ve,isBeginningOfHost:we,isDocumentFragmentWithoutChildren:Ge,isEndOfHost:Qe,isEndOffset:Ze,isInlineElement:Br,isLinebreak:zt,isSameNode:Zt,isStartOffset:ze,isTextEndOfHost:_e,isTextEndOffset:Ke,isVoid:Vt,isVoidTextNode:Ut,isWhitespaceOnly:Qt,lastChild:Ce,lastOffsetWithContent:Ue,latestChild:Mr},Symbol.toStringTag,{value:"Module"}));let $r=0;const Ir="\uFEFF";function Kt(n,e){const t=n.commonAncestorContainer;return t.nodeType===3?!1:e.parentElement?.parentElement===t}function Xe(n,e){const t=n.commonAncestorContainer;if(!t.ownerDocument)throw Q("Cannot save range: range is empty"),new Error("Cannot save range: range is empty");const r=t.ownerDocument;if(!r.defaultView)throw Q("Cannot save range: document has no defaultView"),new Error("Cannot save range: document has no defaultView");const i=r.defaultView.document,s=i.createElement("span");s.id=`editable-range-boundary-${++$r}`,s.setAttribute("data-editable","remove"),s.style.lineHeight="0",s.style.display="none",s.appendChild(i.createTextNode(Ir));const o=e&&Kt(n,n.startContainer),a=!e&&Kt(n,n.endContainer);if(o){const l=n.startContainer.parentElement;l&&l.parentElement&&l.parentElement.insertBefore(s,l)}else if(a){const l=n.endContainer.parentElement;l&&l.parentElement&&l.parentElement.insertBefore(s,l.nextSibling)}else{const l=n.cloneRange();l.collapse(e),l.insertNode(s)}return s}function Gt(n,e,t,r){const i=Jt(n,t);if(!i)return console.log("Marker element has been removed. Cannot restore selection.");e[r?"setStartBefore":"setEndBefore"](i),i.remove()}function Xt(n){let e,t,r;return n.collapsed?(r=Xe(n,!1),e={markerId:r.id,collapsed:!0}):(r=Xe(n,!1),t=Xe(n,!0),e={startMarkerId:t.id,endMarkerId:r.id,collapsed:!1}),n.collapsed?(n.setStartBefore(r),n.collapse(!0)):(n.setEndBefore(r),t&&n.setStartAfter(t)),e}function Yt(n,e){if(e.restored)return;const t=z();if(e.collapsed){if(!e.markerId){console.log("Marker ID is missing. Cannot restore selection.");return}const r=Jt(n,e.markerId);if(r){r.style.display="inline";const i=r.previousSibling;i&&i.nodeType===R?(r.remove(),t.setStart(i,i.length)):(t.setStartBefore(r),t.collapse(!0),r.remove())}else console.log("Marker element has been removed. Cannot restore selection.")}else if(e.startMarkerId&&e.endMarkerId)Gt(n,t,e.startMarkerId,!0),Gt(n,t,e.endMarkerId,!1);else{console.log("Marker IDs are missing. Cannot restore selection.");return}return We(t),t}function Jt(n,e){return n.querySelector(`#${e}`)}function le(n,e,t){const r=Xt(e);return t(),Yt(n,r)}const Dr=/\u200B/g,Pr=/\uFEFF/g,Hr=/[^\S ]/g,Wr=/^\s+$/,qr=/^\s+/,jr=/\s+$/;function xe(n){Ye(n)}function Ye(n){const e=document.createDocumentFragment();ue(n,"firstChild"),ue(n,"lastChild");const t=Array.from(n.childNodes),r=new Set;for(let i=0;i<t.length;i++){if(r.has(i))continue;const s=t[i];if(!(s.nodeName!=="BR"&&!s.textContent))if(s.nodeType===M&&s.nodeName!=="BR"){const o=s.cloneNode(!1);for(const l of Array.from(s.childNodes))o.appendChild(l.cloneNode(!0));let a=i+1;for(;a<t.length;){const l=t[a];if(!Zt(l,s))break;for(const u of Array.from(l.childNodes))o.appendChild(u.cloneNode(!0));r.add(a),l.remove(),a++}Ye(o),e.appendChild(o)}else e.appendChild(s.cloneNode(!0))}for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(e)}function en(n){return n.replace(Hr," ")}function tn(n){n.innerHTML=ce(n,!0)}function ce(n,e){if(!n)return"";const t=(n.nodeType===Pe?ne(n):n.innerHTML).replace(Pr,"").replace(Dr,"<br>"),r=document.createElement("div");return r.innerHTML=t,et(r,e),ue(r,"firstChild"),ue(r,"lastChild"),r.innerHTML}function ne(n){if(!n||!n.childNodes)return"";const e=document.createElement("div"),t=Array.from(n.childNodes);for(const r of t)e.appendChild(r.cloneNode(!0));return e.innerHTML}function J(n){const e=document.createElement("div");e.innerHTML=n;const t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);return t}function Se(n,e){if(typeof n=="string"){const t=e.querySelector(n);if(!t)throw new Error(`Element not found: ${n}`);return t}return n.ownerDocument!==e?e.adoptNode(n):n}function Je(n){const t=n.cloneContents().childNodes[0],r=document.createDocumentFragment();for(;t.childNodes.length;)r.appendChild(t.childNodes[0]);return r}function ue(n,e,t=!0){let r;for(;r=n[e];)if(r.nodeType===R)if(r.textContent&&Wr.test(r.textContent))n.removeChild(r);else break;else if(r.nodeName==="BR")r.remove();else{r[e]&&ue(r,e,!1);break}t&&(r=n[e],r?.nodeType===R&&S.trimLeadingAndTrailingWhitespaces&&r.textContent&&(r.textContent=r.textContent.replace(e.startsWith("last")?jr:qr,"")))}function et(n,e){for(;n;){const t=n.nextSibling;if(n.nodeType!==M){n=t;continue}const r=n,i=r.getAttribute("data-editable");r.firstChild&&et(r.firstChild,e),i==="remove"||i==="ui-remove"&&!e?r.remove():(i==="unwrap"||i==="ui-unwrap"&&!e)&&K(r),n=t}}function Z(n,e,t){const r=rt(e,t),i=tt(n,e,t);return r.concat(i)}function tt(n,e,t){const r=[];let i=e.commonAncestorContainer;for(;i&&i!==n;)(!t||t(i))&&r.push(i),i=i.parentNode;return r}function nn(n,e,t){return Z(n,e,r=>r.nodeName.toUpperCase()===t.toUpperCase())}function rn(n,e,t){return Z(n,e,r=>r.nodeName.toUpperCase()===t.nodeName.toUpperCase()&&r.nodeType===M&&nt(r.attributes,t.attributes))}function nt(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++){const r=n[t],i=e.getNamedItem(r.name);if(!i||i.value!==r.value)return!1}return!0}function rt(n,e){return He(n,[M],e)}function sn(n,e){return He(n,[M],e).filter(t=>Tr(n,t))}function on(n=[]){return n.map(e=>e.nodeName)}function Vr(n,e,t){return Z(n,e,null).some(r=>r.nodeName===t.toUpperCase())}function Ur(n){const e=z();return e.selectNodeContents(n),e}function Qr(n,e){return n.compareBoundaryPoints(Range.END_TO_START,e)===-1&&e.compareBoundaryPoints(Range.END_TO_START,n)===-1}function it(n,e,t){const r=z();if(r.selectNodeContents(e),!Qr(n,r))return!1;let i=n.toString(),s=(e.jquery?e[0]:e).textContent;return t&&(i=De(i),s=De(s)),i!==""&&i===s}function an(n,e,t){return e.selectNodeContents(t),e}function ln(n,e,t){const r=rn(n,e,t);if(r.length===1&&r[0].nodeType===M&&it(e,r[0],!0)){const i=un(n,e,t);return i||e}return st(n,e,t)}function ke(n){return Gr(n)}function st(n,e,t){let r=le(n,e,()=>{at(n,e,t)});return(!r||!ke(r))&&(!r||(r=le(n,r,()=>{ot(n,r,null)}),!r))?e:(cn(r,t),r)}function cn(n,e){if(!ke(n)){console.log("content.wrap(): can not surround range");return}let t;if(typeof e=="string"){if(t=Dt(e),!t){console.log("content.wrap(): could not create element");return}}else t=e;n.surroundContents(t)}function K(n){n=n.jquery?n[0]:n;const e=n.parentNode;if(e){for(;n.firstChild;)e.insertBefore(n.firstChild,n);e.removeChild(n)}}function un(n,e,t){return le(n,e,()=>{at(n,e,t)})}function hn(n,e,t){return le(n,e,()=>{ot(n,e,t)})}function ot(n,e,t){Z(n,e,null).forEach(r=>{r.nodeName.toUpperCase()!=="BR"&&(!t||r.matches(t))&&K(r)})}function at(n,e,t){Z(n,e,null).forEach(r=>{r.nodeName.toUpperCase()!=="BR"&&(!t||r.nodeName.toUpperCase()===t.nodeName.toUpperCase()&&nt(r.attributes,t.attributes))&&K(r)})}function lt(n,e,t){const r=document.createTextNode(e),i=n.cloneRange();i.collapse(t),i.insertNode(r),n[t?"setStartBefore":"setEndAfter"](r),We(n)}function fn(n,e,t,r){return lt(e,r||t,!1),lt(e,t,!0),e}function he(n,e,t){if(!ct(e,t))return e;const r=window.getSelection();r&&r.rangeCount>0&&Fr(e);const i=le(n,e,()=>{He(e,[R],s=>s.nodeValue!==null&&s.nodeValue.indexOf(t)>=0).forEach(s=>{const o=s;o.nodeValue&&(o.nodeValue=o.nodeValue.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),""))})});return i?(We(i),i):e}function ct(n,e){return n.toString().indexOf(e)>=0}function zr(n,e,t){Z(n,e,null).forEach(r=>{r.nodeName.toUpperCase()===t.toUpperCase()&&K(r)})}function Zr(n,e){let t=n,r=null;function i(){if(!t)return null;if(t.firstChild&&r!==t.firstChild)r=t,t=t.firstChild;else if(t.nextSibling)r=t,t=t.nextSibling;else{let s=t.parentNode;for(;s&&s!==n;){if(s.nextSibling){r=t=s.nextSibling;break}s=s.parentNode}(!s||s===n)&&(r=t=null)}return t}return{next:i}}function Kr(n,e){const t=document.createRange();return t.selectNodeContents(n),e.compareBoundaryPoints(Range.START_TO_START,t)<=0&&e.compareBoundaryPoints(Range.END_TO_END,t)>=0}function Gr(n){if(!n||!n.startContainer||!n.endContainer)return!1;if(n.startContainer===n.endContainer)return!0;const e=Zr(n.commonAncestorContainer);let t,r=!1;for(;t=e.next();)if(t.nodeType===Node.ELEMENT_NODE&&!Kr(t,n)){r=!0;break}return!r}const Xr=Object.freeze(Object.defineProperty({__proto__:null,adoptElement:Se,areSameAttributes:nt,cleanInternals:tn,cloneRangeContents:Je,containsString:ct,createFragmentFromString:J,deleteCharacter:he,expandTo:an,extractContent:ce,forceWrap:st,getAncestorTags:tt,getContainedTags:sn,getInnerHtmlOfFragment:ne,getInnerTags:rt,getTagNames:on,getTags:Z,getTagsByName:nn,getTagsByNameAndAttributes:rn,insertCharacter:lt,isAffectedBy:Vr,isExactSelection:it,isWrappable:ke,normalizeTags:Ye,normalizeWhitespace:en,nuke:ot,nukeElem:at,nukeTag:zr,removeFormatting:hn,removeFormattingElem:un,selectNodeContents:Ur,surround:fn,tidyHtml:xe,toggleTag:ln,unwrap:K,unwrapInternalNodes:et,wrap:cn},Symbol.toStringTag,{value:"Module"}));let dn=1;function Yr(n,{normalize:e,plainText:t,shouldSpellcheck:r}={}){ei(n),n.setAttribute("contenteditable","true"),n.setAttribute("spellcheck",String(!!r)),n.setAttribute("data-plaintext",String(!!t)),n.classList.remove(S.editableDisabledClass),n.classList.add(S.editableClass),e&&xe(n)}function Jr(n){n.removeAttribute("contenteditable"),n.removeAttribute("spellcheck"),n.removeAttribute("data-plaintext"),ti(n),n.classList.remove(S.editableClass),n.classList.add(S.editableDisabledClass)}function ut(n){return n.getAttribute("data-plaintext")==="true"}function ei(n){n.hasAttribute("data-editable")||(n.setAttribute("data-editable",`id-${dn}`),dn+=1)}function ti(n,e){n.hasAttribute("data-editable")&&n.getAttribute("data-editable")}const ni=[["«","»"],["»","«"],['"','"'],["“","”"],["”","”"],["“","“"],["„","“"]],ri=[["‘","’"],["‹","›"],["‚","‘"],["’","’"],["›","‹"],["'","'"],["‘","’"]],ii=["’","'"],gn=/([‘’‹›‚'«»"“”„])(?![^<]*?>)/g,si=/\s|[>\-–—«»”"“„]/,oi=/\s|[<\-–—«»”"“‘’‹›'.;?:,]/;let W;function ai(n,e){W=e||{},W.quotes=W.quotes||[void 0,void 0],W.singleQuotes=W.singleQuotes||[void 0,void 0];const t=ui(n);return t.length>0?(pn(t,0),hi(n,t)):n}function pn(n,e){for(;e<n.length;){const t=li(n,e);if(t){if(n[e].replace=t.type==="double"?W.quotes?.[0]:W.singleQuotes?.[0],n[t.position].replace=t.type==="double"?W.quotes?.[1]:W.singleQuotes?.[1],t.position!==e+1){const r=n.slice(e+1,t.position);r&&r.length>0&&pn(r,0)}e=t.position+1}else n[e].replace=ci(n[e].char),e+=1}}function li(n,e){if(e===n.length-1)return;const t=n[e],r=t.char;if(t.before&&!si.test(t.before))return;const i=mn(r,ri),s=mn(r,ni);let o=s,a=i;const l=s.length>0&&!s.includes('"')||i.length>0&&!i.includes("'");s.length>0&&!s.includes('"')&&(o=[...s,'"']),i.length>0&&!i.includes("'")&&(a=[...i,"'"]);const u=r==='"'||r==="'";let d;for(let c=e+1;c<n.length;c++){const y=n[c].char,b=n[c].after;if(b&&oi.test(b)||!b){if(a.includes(y)){if(i.includes(y)&&!u)return{position:c,type:"single"};if(l||u)(!d||d.type==="single"&&c>d.position)&&(d={position:c,type:"single"});else return{position:c,type:"single"}}if(o.includes(y)){if(s.includes(y)&&!u)return{position:c,type:"double"};if(l||u)(!d||d.type==="double"&&c>d.position)&&(d={position:c,type:"double"});else return{position:c,type:"double"}}}}if(d)return d}function mn(n,e){return e.filter(t=>t[0]===n).map(t=>t[1])}function ci(n){if(ii.includes(n))return W.apostrophe}function ui(n){return[...n.matchAll(gn)].map(e=>{const t=e.index;return{char:e[1],before:t>0?n[t-1]:"",after:t+1<n.length?n[t+1]:""}})}function hi(n,e){let t=0;return n.replace(gn,r=>{const i=e[t].replace||e[t].char;return t+=1,i})}let ht,bn,yn,vn,ft,fe,dt,wn;const _n=/^\s*$/,gt="<!-- BLOCK -->";let Cn;xn(S);function xn(n){const e=n.pastedHtmlRules;ht=e.allowedElements||{},bn=e.allowedPlainTextElements||{},yn=e.requiredAttributes||{},vn=e.transformElements||{},wn=e.blacklistedElements||[],Cn=e.keepInternalRelativeLinks||!1,fe=e.replaceQuotes||{},ft={},e.blockLevelElements.forEach(t=>{ft[t]=!0}),dt={},e.splitIntoBlocks.forEach(t=>{dt[t]=!0})}function fi(n,e,t){const r=n.ownerDocument;n.setAttribute(S.pastingAttribute,"true"),e.isSelection&&(e=e.deleteExactSurroundingTags().deleteContainedTags().deleteContent());const i=r.createElement("div");i.innerHTML=t;const s=ut(n),o=di(i,{plainText:s});return n.removeAttribute(S.pastingAttribute),{blocks:o,cursor:e}}function di(n,{plainText:e=!1}={}){return Sn(n,{allowedElements:e?bn:ht,keepInternalRelativeLinks:e?!1:Cn}).split(gt).map(r=>De(vi(wi(r)))).filter(r=>!_n.test(r))}function Sn(n,e){return Array.from(n.childNodes).reduce((t,r)=>{if(wn.indexOf(r.nodeName.toLowerCase())!==-1)return"";const i=r;if(e.keepInternalRelativeLinks&&i.nodeName==="A"&&i.href){const s=i.getAttribute("href");if(s){const o=s.replace(window.location.origin,"");i.setAttribute("href",o)}}if(r.nodeType===M){const s=Sn(i,e);return t+gi(i,s,e)}return r.nodeType===R?t+Sr(r.nodeValue||""):t},"")}function gi(n,e,t){let r=n.nodeName.toLowerCase();if(r=mi(r),yi(r,n,t)){const i=pi(r,n);return r==="br"?`<${r+i}>`:_n.test(e)?e:`<${r+i}>${e}</${r}>`}return dt[r]?gt+e+gt:ft[r]?`${e} `:e}function pi(n,e){return Array.from(e.attributes).reduce((t,r)=>{const i=r.name,s=r.value;return ht[n]?.[i]&&s?`${t} ${i}="${s}"`:t},"")}function mi(n){return vn[n]||n}function bi(n,e){const t=yn[n];return t?!t.some(r=>!e.getAttribute(r)):!0}function yi(n,e,t){return!!t.allowedElements[n]&&bi(n,e)}function vi(n){return n.replace(/\n/g," ").replace(/ {2,}/g," ").replace(/(.)\u00A0/g,(e,t)=>t+(/[\u0020]/.test(t)?" ":" "))}function wi(n){return fe.quotes||fe.singleQuotes||fe.apostrophe?ai(n,fe):n}typeof document.documentElement.contentEditable<"u";const _i=/(apple)?webkit\/537\.36/i.test(window.navigator.userAgent),Ci=/(apple)?webkit/i.test(window.navigator.userAgent),xi=!_i&&Ci,Si=(n=>{const e=n,t=e.onselectionchange;if(t!==void 0)try{return e.onselectionchange=0,e.onselectionchange===null}catch{}finally{e.onselectionchange=t}return!1})(document),ki=!!xi;function kn(n,e){const t=Ei(e);n.on=t.on,n.off=t.off,n.notify=t.notify}function Ei(n){const e={};function t(s,o){s.split(" ").forEach(a=>{e[a]=e[a]||[],e[a].unshift(o)})}function r(s,o){const a=e[s];if(!a)return;const l=a.indexOf(o);l<0||a.splice(l,1)}const i={on(s,o){if(arguments.length===2&&typeof s=="string")t(s,o);else if(arguments.length===1&&typeof s=="object")for(const a in s)t(a,s[a]);return i},off(s,o){arguments.length===2?r(s,o):arguments.length===1?e[s]=[]:Object.keys(e).forEach(a=>delete e[a])},notify(s,o,...a){const l=Array.from(arguments);let u,d,c;if(n?(d=s,u=n,c=l.slice(1)):(u=s,d=o,c=l.slice(2)),i.switchContext){const b=i.switchContext.events.shift();d!==b&&(i.switchContext=void 0)}const y=e[d];y&&y.every(b=>b.apply(u,c)!==!1)}};return i}function En(n){const e=n.pageXOffset!==void 0?n.pageXOffset:(n.document.documentElement||n.document.body.parentNode||n.document.body).scrollLeft,t=n.pageYOffset!==void 0?n.pageYOffset:(n.document.documentElement||n.document.body.parentNode||n.document.body).scrollTop;return{x:e,y:t}}class O{static findHost(e,t){return ae(e,t)}constructor(e,t){this.setHost(e),this.range=t,this.isCursor=!0}getTags(e){return Z(this.host,this.range,e)}getTagNames(e){const t=this.getTags(e);return on(t)}getTagsByName(e){return nn(this.host,this.range,e)}getInnerTags(e){return rt(this.range,e)}getContainedTags(e){return sn(this.range,e)}getAncestorTags(e){return tt(this.host,this.range,e)}isAtEnd(){return Qe(this.host,this.range.endContainer,this.range.endOffset)}isAtTextEnd(){return _e(this.host,this.range.endContainer,this.range.endOffset)}isAtLastLine(){const e=this.win.document.createRange();e.selectNodeContents(this.host),e.collapse(!1);const t=Ee(e,this.win),r=Ee(this.range,this.win);return An(t.bottom,r.bottom)}isAtFirstLine(){const e=this.win.document.createRange();e.selectNodeContents(this.host),e.collapse(!0);const t=Ee(e,this.win),r=Ee(this.range,this.win);return An(t.top,r.top)}isAtBeginning(){return we(this.host,this.range.startContainer,this.range.startOffset)}insertBefore(e){if($t(e)&&(e=J(e)),Ge(e))return;e=this.adoptElement(e);let t=e;if(e.nodeType===Pe){const r=e.childNodes.length-1;t=e.childNodes[r]}this.range.insertNode(e),this.range.setStartAfter(t),this.range.setEndAfter(t),this.host.normalize()}insertAfter(e){if($t(e)&&(e=J(e)),Ge(e))return;e=this.adoptElement(e);const t=this.range.cloneRange();t.setStart(t.endContainer,t.endOffset),t.collapse(!0),t.insertNode(e),this.host.normalize()}setSelection(){this.setVisibleSelection()}setVisibleSelection(){if(this.win.document.activeElement!==this.host){const{x:t,y:r}=En(this.win);this.win.scrollTo(t,r)}const e=Pt(this.win);e&&(e.removeAllRanges(),e.addRange(this.range))}before(){const e=this.range.cloneRange();return e.collapse(!0),e.setStartBefore(this.host),Je(e)}textBefore(){const e=this.range.cloneRange();return e.collapse(!0),e.setStartBefore(this.host),e.toString()}beforeHtml(){return ne(this.before())}after(){const e=this.range.cloneRange();return e.collapse(!1),e.setEndAfter(this.host),Je(e)}textAfter(){const e=this.range.cloneRange();return e.collapse(!1),e.setEndAfter(this.host),e.toString()}afterHtml(){return ne(this.after())}getBoundingClientRect(){return this.range.getBoundingClientRect()}getCoordinates(e="absolute"){const t=this.range.getBoundingClientRect();if(e==="fixed")return t;const{x:r,y:i}=En(this.win);return{top:t.top+i,bottom:t.bottom+i,left:t.left+r,right:t.right+r,height:t.height,width:t.width}}moveBefore(e){if(this.updateHost(e),this.range.setStartBefore(e),this.range.setEndBefore(e),this.isSelection)return new O(this.host,this.range)}moveAfter(e){if(this.updateHost(e),this.range.setEndAfter(e),this.range.setStartAfter(e),this.isSelection)return new O(this.host,this.range)}moveAtBeginning(e=this.host){if(this.updateHost(e),this.range.selectNodeContents(e),this.range.collapse(!0),this.isSelection)return new O(this.host,this.range)}moveAtEnd(e=this.host){if(this.updateHost(e),this.range.selectNodeContents(e),this.range.collapse(!1),this.isSelection)return new O(this.host,this.range)}moveAtTextEnd(e){const t=Ce(e);if(t&&t.nodeType===M)return this.moveAtEnd(t)}setHost(e){e.jquery&&(e=e[0]),this.host=e;const t=e.ownerDocument;this.win=e==null||!t?window:t.defaultView||window}updateHost(e){const t=Ve(e);t||Q("Can not set cursor outside of an editable block"),this.setHost(t)}retainVisibleSelection(e){this.save(),e(),this.restore(),this.setVisibleSelection()}save(){this.savedRangeInfo=Xt(this.range),this.savedRangeInfo.host=this.host}restore(){if(!this.savedRangeInfo){Q("Could not restore selection");return}this.savedRangeInfo.host&&(this.host=this.savedRangeInfo.host);const e=Yt(this.host,this.savedRangeInfo);if(!e){Q("Could not restore selection range");return}this.range=e,this.savedRangeInfo=void 0}equals(e){return!(!e||!e.host||!e.host.isEqualNode(this.host)||!e.range||!jt(e.range,this.range))}createElement(e,t={}){const r=this.win.document.createElement(e);for(const i in t){const s=t[i];r.setAttribute(i,s)}return r}createTextNode(e){return this.win.document.createTextNode(e)}adoptElement(e){return Se(e,this.win.document)}triggerChange(){const e=new Event("formatEditable",{bubbles:!0,cancelable:!1});this.host.dispatchEvent(e)}}function Ee(n,e){if(n.startContainer.nodeType!==M)return n.getBoundingClientRect();const t=e.document.createElement("span");t.setAttribute("doc-editable","unwrap"),n.insertNode(t);const r=t.getBoundingClientRect();return t.remove(),r}function An(n,e){return n===e||Math.abs(n-e)<=2}const G={extractText(n,e=!0){let t="";return Ai(n,e,r=>{t+=r}),t},highlightMatches(n,e,t=!0){if(!e||e.length===0)return;n.normalize();const r=new oe(n);let i=0,s=0,o=e[i],a=[],l,u=o.id||o.startIndex,d;for(;l=r.getNext();){if(l.nodeType===R&&l.data!=="")d=l;else if(t&&l.nodeType===M&&l.nodeName==="BR"){s+=1;continue}else continue;if(!d)continue;const c=d.data;let y=s+c.length;if(o.startIndex<y&&s<o.endIndex){const b=s<=o.startIndex,E=y>=o.endIndex;b&&(u=o.id||o.startIndex);let x;b?x=o.startIndex-s:x=0;let w;E?w=o.endIndex-s-x:w=c.length-x;const C={element:d,text:c.substring(x,x+w),offset:x,length:w,isLastPortion:E,wordId:u};if(a.push(C),E){const h=this.wrapMatch(a,o.marker,o.title);h&&(r.replaceCurrent(h),y=s+C.length+C.offset,a=[],i+=1,i<e.length&&(o=e[i]))}}s=y}},wrapMatch(n,e,t){return n.map(r=>this.wrapPortion(r,e,t)).pop()},wrapPortion(n,e,t){const r=z();r.setStart(n.element,n.offset),r.setEnd(n.element,n.offset+n.length);const i=e.cloneNode(!0);if(i.setAttribute("data-word-id",String(n.wordId)),t&&i.setAttribute("title",t),r.surroundContents(i),i.nextSibling){const s=i.nextSibling;s.nodeType===R&&s.data===""&&s.remove()}return i}};function Ai(n,e,t){const r=new oe(n);let i;for(;i=r.getNext();)i.nodeType===R&&i.data!==""?t(i.data):e&&i.nodeType===M&&i.nodeName==="BR"&&t(`
`)}function Ti(n,e,t){return Tn(n,[e],"text",t)}function Ni(n,e,t){return Tn(n,e,"word",t)}function Tn(n,e,t,r){if(!n||n==="")return[];if(r&&!Fi(r))return[];if(!e?.length)return[];const s=(t==="word"?Li:Ri)(e);return[...n.matchAll(s)].map(a=>{let l,u;return t==="word"?(l=a.index+a[1].length,u=a[2]):(l=a.index,u=a[0]),{startIndex:l,endIndex:l+u.length,match:u,marker:r}})}function Fi(n){try{return n?n instanceof n.ownerDocument?.defaultView.HTMLElement:!1}catch{return typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function Ri(n=[]){const t=`(${n.map(r=>Fn(r)).join("|")})`;return new RegExp(t,"g")}const Nn="\\u0041-\\u005A\\u0061-\\u007A\\u0030-\\u0039\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0100-\\u017F\\u0180-\\u024F";function Li(n=[]){const e=n.map(r=>Fn(r)),t=`([^${Nn}]|^)(${e.join("|")})(?=[^${Nn}]|$)`;return new RegExp(t,"g")}function Fn(n){return String(n).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}const q={highlightText(n,e,t,r,i,s){if(this.hasHighlight(n,t))return;const o=G.extractText(n),a=`<span class="highlight-${r}"></span>`;let l=s;if(l||(l=(n.ownerDocument||(typeof document<"u"?document:null))?.defaultView||void 0),l||(l=typeof window<"u"&&window.document?window:void 0),!l)throw new Error("Could not determine window object for highlightText");const u=q.createMarkerNode(a,r,l);if(!u)return;const d=Ti(o,e,u);if(d&&d.length){const c=d[0];return t&&(c.id=t),G.highlightMatches(n,d),i&&i.notify("change",n),c.startIndex}},highlightRange(n,e,t,r,i,s,o,a="comment"){if(this.hasHighlight(n,t)&&this.removeHighlight(n,t,s),G.extractText(n,!1)==="")return-1;let u=o;if(u||(u=(n.ownerDocument||(typeof document<"u"?document:null))?.defaultView||void 0),u||(u=typeof window<"u"&&window.document?window:void 0),!u)throw new Error("Could not determine window object for highlightRange");const d=this.createMarkerNode(`<span class="highlight-${a}"></span>`,a,u);if(!d)return-1;const c=r,y=i;return G.highlightMatches(n,[{startIndex:c,endIndex:y,match:e.substring(c,y),id:t,marker:d}],!1),s&&s.notify("change",n),c},updateHighlight(n,e,t,r){if(!document.documentElement.classList)return;const i=n.querySelectorAll(`[data-word-id="${e}"]`);for(const s of Array.from(i))r&&s.classList.remove(r),t&&s.classList.add(t)},removeHighlight(n,e,t){const r=n.querySelectorAll(`[data-word-id="${e}"]`);for(const i of Array.from(r))K(i);n.normalize(),t&&t.notify("change",n)},hasHighlight(n,e){return!!n.querySelectorAll(`[data-word-id="${e}"]`).length},extractHighlightedRanges(n,e){let t="[data-word-id]";e&&(t+=`[data-highlight="${e}"]`);const r=n.querySelectorAll(t);if(!r.length)return;const i={};for(const o of Array.from(r)){const a=o.getAttribute("data-word-id");a&&!i[a]&&(i[a]=n.querySelectorAll(`[data-word-id="${a}"]`))}const s={};for(const o in i){const a=this.extractMarkerNodePosition(n,i[o]);a&&(s[o]=a)}return s},extractMarkerNodePosition(n,e){if(e.length===0)return;const t=z();e.length>1?(t.setStartBefore(e[0]),t.setEndAfter(e[e.length-1])):t.selectNode(e[0]);const r=qt(t,n);return{start:r.start,end:r.end,text:r.text,nativeRange:t}},cleanupStaleMarkerNodes(n,e){const t=n.querySelectorAll(`span[data-highlight="${e}"]`);for(const r of Array.from(t))(!r.textContent||!r.textContent.length)&&r.remove()},createMarkerNode(n,e,t){let r=t||null;if(r||(r=typeof window<"u"&&window.document?window:null),!r||!r.document)throw new Error(`Window object with document is required. win: ${typeof t}, window: ${typeof window}`);const i=Dt(n,r);return i?(i.setAttribute("data-editable","ui-unwrap"),i.setAttribute("data-highlight",e),i):null}};let Rn=class Lt extends O{constructor(e,t){super(e,t),delete this.isCursor,this.isSelection=!0}text(){return this.range.toString()}html(){return Rr(this.range)}isAllSelected(){return we(this.host,this.range.startContainer,this.range.startOffset)&&_e(this.host,this.range.endContainer,this.range.endOffset)}getTextRange(){return qt(this.range,this.host)}toString(){return this.range.toString()}isWrappable(){return ke(this.range)}getRects(){return this.range.getClientRects()}link(e,t={}){e&&(t.href=e);const r=this.createElement(S.linkMarkup.name,S.linkMarkup.attribs);for(const i in t){const s=t[i];s!==void 0&&(s===null?r.removeAttribute(i):r.setAttribute(i,s))}S.linkMarkup.trim&&this.trimRange(),this.forceWrap(r)}trimRange(){const e=this.range.toString(),t=e.search(/\S|$/),r=e.search(/\S[\s]+$/),i=r===-1?0:e.length-(r+1),[s,o]=qe({root:this.range.commonAncestorContainer,startContainer:this.range.startContainer,startOffset:this.range.startOffset,whitespacesOnTheLeft:t});this.range.setStart(s,o);const[a,l]=je({root:this.range.commonAncestorContainer,endContainer:this.range.endContainer,endOffset:this.range.endOffset,whitespacesOnTheRight:i});this.range.setEnd(a,l)}unlink(){this.removeFormatting(S.linkMarkup.name)}toggleLink(e,t={}){const r=this.getTagsByName(S.linkMarkup.name);if(r.length>=1){const i=r[0];this.isExactSelection(i,"visible")?this.unlink():this.expandTo(i)}else this.link(e,t)}highlightComment({highlightId:e,textRange:t}){q.highlightRange(this.host,t.text,e,t.start,t.end,void 0,this.win,"comment")}highlight({highlightId:e}){const t=this.textBefore(),r=this.text(),s=q.createMarkerNode('<span class="highlight-comment"></span>',"comment",this.win);if(!s)return;s.setAttribute("data-match",r);const o={startIndex:t.length,endIndex:t.length+r.length,match:r,marker:s};G.highlightMatches(this.host,[o])}toggle(e){if(ut(this.host)||this.range.collapsed)return;e=this.adoptElement(e);const t=ln(this.host,this.range,e);t&&(this.range=t,this.setVisibleSelection())}toggleCustom({tagName:e,attributes:t,trim:r=!1}){const i=this.createElement(e,t);r&&this.trimRange(),this.toggle(i)}makeCustom({tagName:e,attributes:t,trim:r=!1}){const i=this.createElement(e,t);r&&this.trimRange(),this.forceWrap(i)}makeBold(){const e=this.createElement(S.boldMarkup.name,S.boldMarkup.attribs);S.boldMarkup.trim&&this.trimRange(),this.forceWrap(e)}toggleBold(){const e=this.createElement(S.boldMarkup.name,S.boldMarkup.attribs);S.boldMarkup.trim&&this.trimRange(),this.toggle(e)}giveEmphasis(){const e=this.createElement(S.italicMarkup.name,S.italicMarkup.attribs);S.italicMarkup.trim&&this.trimRange(),this.forceWrap(e)}toggleEmphasis(){const e=this.createElement(S.italicMarkup.name,S.italicMarkup.attribs);S.italicMarkup.trim&&this.trimRange(),this.toggle(e)}makeUnderline(){const e=this.createElement(S.underlineMarkup.name,S.underlineMarkup.attribs);S.underlineMarkup.trim&&this.trimRange(),this.forceWrap(e)}toggleUnderline(){const e=this.createElement(S.underlineMarkup.name,S.underlineMarkup.attribs);S.underlineMarkup.trim&&this.trimRange(),this.toggle(e)}insertCharacter(e){const t=this.deleteContent(),r=t.createTextNode(e);return t.insertBefore(r),t.setVisibleSelection(),t}surround(e,t){this.range=fn(this.host,this.range,e,t),this.setVisibleSelection()}removeSurround(e,t){this.range=he(this.host,this.range,e),this.range=he(this.host,this.range,t),this.setVisibleSelection()}removeChars(e=[]){for(let t=0;t<e.length;t++){const r=e[t];this.range=he(this.host,this.range,r)}this.setVisibleSelection()}toggleSurround(e,t){this.containsString(e)&&this.containsString(t)?this.removeSurround(e,t):this.surround(e,t)}removeFormatting(e){const t=hn(this.host,this.range,e||null);t&&(this.range=t,this.setVisibleSelection())}deleteExactSurroundingTags(){const e=this.getAncestorTags().reverse();for(const t of e)if(this.isExactSelection(t,void 0)){t.remove();break}return new Lt(this.host,this.range)}deleteContainedTags(){return this.getContainedTags().forEach(t=>t.remove()),new Lt(this.host,this.range)}deleteContent(){return this.range.deleteContents(),new O(this.host,this.range)}expandTo(e){this.range=an(this.host,this.range,e),this.setVisibleSelection()}collapseAtBeginning(e){return this.range.collapse(!0),this.setVisibleSelection(),new O(this.host,this.range)}collapseAtEnd(e){return this.range.collapse(!1),this.setVisibleSelection(),new O(this.host,this.range)}forceWrap(e){if(ut(this.host)||this.range.collapsed)return;e=this.adoptElement(e);const t=st(this.host,this.range,e);t&&(this.range=t,this.setVisibleSelection())}isExactSelection(e,t){return it(this.range,e,t==="visible")}containsString(e){return ct(this.range,e)}deleteCharacter(e){this.range=he(this.host,this.range,e),this.setVisibleSelection()}};class Ae{constructor(e,t){this.host=e&&e.jquery?e[0]:e,this.range=t?.cloneRange(),this.isAnythingSelected=t!==void 0,this.isCursor=this.isAnythingSelected&&t.collapsed,this.isSelection=this.isAnythingSelected&&!this.isCursor}getCursor(){if(this.isCursor&&this.host&&this.range)return new O(this.host,this.range)}getSelection(){if(this.isSelection&&this.host&&this.range)return new Rn(this.host,this.range)}forceCursor(){if(!this.isSelection)return this.getCursor();const e=this.getSelection();if(e)return e.deleteContent()}isDifferentFrom(e=new Ae){const t=this.range,r=e.range;return t&&r?!jt(t,r):!(!t&&r)}}class Mi{constructor(e,t){this.dispatcher=e,this.win=t||window,this.selection=void 0,this.currentSelection=void 0,this.currentRange=void 0}syncSelection(){try{this.selection=Pt(this.win)}catch{return!1}return!0}getRangeContainer(){const e=this.syncSelection();if(this.selection?.rangeCount&&e)try{const t=this.selection.getRangeAt(0);if(t&&t.commonAncestorContainer){const r=Ve(t.commonAncestorContainer);if(r)return new Ae(r,t)}}catch{}return new Ae}getFreshRange(){return this.getRangeContainer()}getFreshSelection(){const e=this.getRangeContainer();return e.isCursor?e.getCursor():e.getSelection()}getSelection(){return this.currentSelection}forceCursor(){return this.getRangeContainer().forceCursor()}selectionChanged(){const e=this.getRangeContainer();if(e.isDifferentFrom(this.currentRange)){const t=this.currentSelection;this.currentRange=e,t&&(t.isCursor&&!this.currentRange.isCursor?this.dispatcher.notify("cursor",t.host):t.isSelection&&!this.currentRange.isSelection&&this.dispatcher.notify("selection",t.host)),this.currentRange.isCursor&&this.currentRange.host&&this.currentRange.range?(this.currentSelection=new O(this.currentRange.host,this.currentRange.range),this.dispatcher.notify("cursor",this.currentSelection.host,this.currentSelection)):this.currentRange.isSelection&&this.currentRange.host&&this.currentRange.range?(this.currentSelection=new Rn(this.currentRange.host,this.currentRange.range),this.dispatcher.notify("selection",this.currentSelection.host,this.currentSelection)):this.currentSelection=void 0}}}class ee{constructor(e){kn(this),this.selectionWatcher=e,this.key=ee.key}dispatchKeyEvent(e,t,r){switch(e.keyCode){case this.key.left:return this.notify(t,"left",e);case this.key.right:return this.notify(t,"right",e);case this.key.up:return this.notify(t,"up",e);case this.key.down:return this.notify(t,"down",e);case this.key.tab:return e.shiftKey?this.notify(t,"shiftTab",e):this.notify(t,"tab",e);case this.key.esc:return this.notify(t,"esc",e);case this.key.backspace:return this.preventContenteditableBug(t,e),this.notify(t,"backspace",e);case this.key.delete:return this.preventContenteditableBug(t,e),this.notify(t,"delete",e);case this.key.enter:return e.shiftKey?this.notify(t,"shiftEnter",e):this.notify(t,"enter",e);case this.key.ctrl:case this.key.shift:case this.key.alt:return;case 224:case 17:case 91:case 93:return;default:if(e.keyCode===this.key.b&&(e.ctrlKey||e.metaKey))return this.notify(t,"bold",e);if(e.keyCode===this.key.i&&(e.ctrlKey||e.metaKey))return this.notify(t,"italic",e);if(this.preventContenteditableBug(t,e),!r)return;if(!e.ctrlKey&&!e.metaKey)return this.notify(t,"character",e)}}preventContenteditableBug(e,t){if(!ki||t.ctrlKey||t.metaKey)return;const r=this.selectionWatcher.getFreshRange();if(!r.isSelection||!r.range)return;const i=ee.getNodeToRemove(r.range,e);i&&i.remove()}static getNodeToRemove(e,t){if(e.startOffset!==0)return;let r=e.startContainer;if(r.nodeType===R){const u=r.parentNode;if(!u||u.nodeType!==M)return;r=u}if(r===t)return;const i=r.firstChild,s=r.lastChild;if(!i||!s)return;const o=z();if(o.setStartBefore(i),o.setEndAfter(s),Ar(o,e))return;if(e.startContainer.nodeType===R){const u=[R,M];let d=r.firstChild;do{if(d&&u.indexOf(d.nodeType)!==-1)break;d=d?d.nextSibling:null}while(d);if(d!==e.startContainer)return}const a=e.cloneRange();return a.setStartBefore(r),ee.getNodeToRemove(a,t)||r}}ee.key=ee.prototype.key={left:37,up:38,right:39,down:40,tab:9,esc:27,backspace:8,delete:46,enter:13,shift:16,ctrl:17,alt:18,b:66,i:73};const Ln=n=>Array.isArray(n)&&n.length===2,Bi=(n,e)=>{const{smartQuotes:t,quotes:r,singleQuotes:i}=n;return!!t&&Ln(r)&&Ln(i)&&e.isContentEditable},Mn=n=>/^[\u00AB\u00BB\u201C\u201D\u201E\u0022]$/.test(n),Bn=n=>/^[\u2018\u2019\u2039\u203A\u201A\u0027]$/.test(n),On=n=>/^[\u2019\u0027]$/.test(n),Oi=n=>/^\s$/.test(n),$n=n=>/\s|[>\-–—]/.test(n),$i=(n,e)=>e<0||$n(n[e]),Ii=(n,e)=>!!n[e]&&!$n(n[e]),Di=(n,e)=>!!n[e]&&!Oi(n[e]),Pi=(n,e)=>!!n[e]&&Mn(n[e]),pt=(n,e,t)=>{const r=n?.startContainer;if(!r||r.nodeType!==3)return null;const i=r,s=i.nodeValue;if(!s)return null;const o=`${s.substring(0,e)}${t}${s.substring(e+1)}`,a=document.createTextNode(o);return i.replaceWith(a),a},Hi=(n,e,t)=>{if(e<=0)return!1;for(let r=e-1;r>=0;r--)if(Bn(n[r])&&!On(t)&&!On(n[r]))return n[r]===t;return!1},Wi=(n,e,t,r,i)=>{const s=Bn(t);if(!Mn(t)&&!s)return;const{quotes:a,singleQuotes:l}=e;if(t===a[0]||t===a[1]||t===l[0]||t===l[1])return;const u=n.startOffset,d=n.startContainer.textContent;if(!d)return;const c=[...d];let y=null;if(s&&Pi(c,u-2))y=pt(n,u-1,l[0]);else if(Ii(c,u-2)){if(s&&(Di(c,u)||!Hi(c,u,l[0])))return;const x=s?l[1]:a[1];y=pt(n,u-1,x)}else if($i(c,u-2)){const x=s?l[0]:a[0];y=pt(n,u-1,x)}if(!y)return;const b=r.ownerDocument.defaultView;if(!b)return;const E=b.getSelection();E&&E.collapse(y,i??u)};class qi{constructor(e){const t=e.win;kn(this,e),this.document=t.document,this.config=e.config,this.editable=e,this.editableSelector=e.editableSelector,this.selectionWatcher=new Mi(this,t),this.keyboard=new ee(this.selectionWatcher),this.activeListeners=[],this.setup(),this.getEditableBlockByEvent=r=>{const i=r.target;return i?ae(i,e.editableSelector):void 0}}setupDocumentListener(e,t,r=!1){const i={event:e,listener:t.bind(this),capture:r};return this.activeListeners.push(i),this.document.addEventListener(e,i.listener,r),this}setup(){this.setupKeyboardEvents(),this.setupEventListeners()}unload(){this.off();for(const e of this.activeListeners)this.document.removeEventListener(e.event,e.listener,e.capture);this.activeListeners.length=0}suspend(){if(!this.suspended){this.suspended=!0;for(const e of this.activeListeners)this.document.removeEventListener(e.event,e.listener,e.capture);this.activeListeners.length=0}}continue(){this.suspended&&(this.suspended=!1,this.setupEventListeners())}setupEventListeners(){this.setupElementListeners(),this.setupKeydownListener(),Si?this.setupSelectionChangeListeners():this.setupSelectionChangeFallbackListeners()}setupElementListeners(){const e={offset:void 0};this.setupDocumentListener("focus",function(r){const i=this.getEditableBlockByEvent(r);if(!i)return;const s=r.target;s&&s.getAttribute(S.pastingAttribute)||(this.selectionWatcher.syncSelection(),this.notify("focus",i))},!0).setupDocumentListener("blur",function(r){const i=this.getEditableBlockByEvent(r);i&&(i.getAttribute(S.pastingAttribute)||this.notify("blur",i))},!0).setupDocumentListener("copy",function(r){const i=this.getEditableBlockByEvent(r);if(!i)return;const s=this.selectionWatcher.getFreshSelection();s&&s.isSelection&&this.notify("clipboard",i,"copy",s)}).setupDocumentListener("cut",function(r){const i=this.getEditableBlockByEvent(r);if(!i)return;const s=this.selectionWatcher.getFreshSelection();s&&s.isSelection&&this.notify("clipboard",i,"cut",s)}).setupDocumentListener("paste",function(r){const i=this.getEditableBlockByEvent(r);if(!i)return;const s=r;s.preventDefault();const o=this.selectionWatcher.getFreshSelection();if(!o||!s.clipboardData)return;const a=s.clipboardData.getData("text/html")||s.clipboardData.getData("text/plain"),{blocks:l,cursor:u}=fi(i,o,a);if(l.length){const d=s.target;d&&Er(d.innerText)&&u.retainVisibleSelection(()=>{i.innerHTML=kr(i.innerHTML,"&nbsp;"," ")}),this.notify("paste",i,l,u),this.notify("change",i)}else u.setVisibleSelection()}).setupDocumentListener("input",function(r){const i=this.getEditableBlockByEvent(r);if(!i)return;const s=r.target;if(s&&Bi(this.config,s)){const o=this.selectionWatcher.getFreshSelection();if(!o||!o.range)return;e.offset=o.range.startOffset;const a=r,l=this.config.quotes||{quotes:[],singleQuotes:[]};setTimeout(()=>{a.data&&Wi(o.range,l,a.data,s,e.offset)},300)}this.notify("change",i)}).setupDocumentListener("formatEditable",function(r){const i=this.getEditableBlockByEvent(r);i&&this.notify("change",i)})}dispatchSwitchEvent(e,t,r){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;const i=this.selectionWatcher.getFreshSelection();!i||i.isSelection||(this.switchContext?this.switchContext.events=["cursor"]:this.switchContext={positionX:i.getBoundingClientRect().left,events:["cursor"]},r==="up"&&i.isAtFirstLine()&&(e.preventDefault(),e.stopPropagation(),this.switchContext.events=["switch","blur","focus","cursor"],this.notify("switch",t,r,i)),r==="down"&&i.isAtLastLine()&&(e.preventDefault(),e.stopPropagation(),this.switchContext.events=["switch","blur","focus","cursor"],this.notify("switch",t,r,i)))}setupKeydownListener(){this.setupDocumentListener("keydown",function(e){const t=this.getEditableBlockByEvent(e);if(!t)return;const r=e;this.keyboard.dispatchKeyEvent(r,t,!1)},!0)}setupKeyboardEvents(){const e=this;this.keyboard.on("up",function(t){e.dispatchSwitchEvent(t,this,"up")}).on("down",function(t){e.dispatchSwitchEvent(t,this,"down")}).on("backspace",function(t){const r=this,i=e.selectionWatcher.getFreshRange();if(!i.isCursor)return;const s=i.getCursor();!s||!s.isAtBeginning()||(t.preventDefault(),t.stopPropagation(),e.notify("merge",r,"before",s))}).on("delete",function(t){const r=this,i=e.selectionWatcher.getFreshRange();if(!i.isCursor)return;const s=i.getCursor();!s||!s.isAtTextEnd()||(t.preventDefault(),t.stopPropagation(),e.notify("merge",r,"after",s))}).on("enter",function(t){const r=this;t.preventDefault(),t.stopPropagation();const s=e.selectionWatcher.getFreshRange().forceCursor();if(s)if(s.isAtTextEnd())e.notify("insert",r,"after",s);else if(s.isAtBeginning())e.notify("insert",r,"before",s);else{const o=s.before(),a=s.after();e.notify("split",r,ne(o),ne(a),s)}}).on("shiftEnter",function(t){const r=this;t.preventDefault(),t.stopPropagation();const i=e.selectionWatcher.forceCursor();i&&e.notify("newline",r,i)}).on("bold",function(t){t.preventDefault(),t.stopPropagation();const r=e.selectionWatcher.getFreshSelection();r&&r.isSelection&&e.notify("toggleBold",r)}).on("italic",function(t){t.preventDefault(),t.stopPropagation();const r=e.selectionWatcher.getFreshSelection();r&&r.isSelection&&e.notify("toggleEmphasis",r)}).on("character",function(t){const r=this;e.notify("change",r)})}setupSelectionChangeListeners(){let e=!1,t=!1;const r=this.selectionWatcher;this.setupDocumentListener("selectionchange",i=>{let s=!1,o=this.selectionWatcher.getFreshSelection();o||(r.selectionChanged(),s=!0,o=this.selectionWatcher.getSelection()),o&&o.isSelection&&o.isAtBeginning()&&o.isAtEnd()?this.notify("selectToBoundary",o.host,i,"both"):o&&o.isSelection&&o.isAtBeginning()?this.notify("selectToBoundary",o.host,i,"start"):o&&o.isSelection&&o.isAtEnd()&&this.notify("selectToBoundary",o.host,i,"end"),t?e=!0:s||r.selectionChanged()}),this.setupDocumentListener("mousedown",function(i){this.getEditableBlockByEvent(i)&&(this.config.mouseMoveSelectionChanges===!1&&(t=!0,setTimeout(()=>r.selectionChanged(),0)),this.document.addEventListener("mouseup",()=>{t=!1,e&&(e=!1,r.selectionChanged())},{capture:!0,once:!0}))})}setupSelectionChangeFallbackListeners(){const e=t=>{const r=this.selectionWatcher.getFreshSelection();r&&r.isSelection&&r.isAtBeginning()&&r.isAtEnd()?this.notify("selectToBoundary",r.host,t,"both"):r&&r.isSelection&&r.isAtBeginning()?this.notify("selectToBoundary",r.host,t,"start"):r&&r.isSelection&&r.isAtEnd()&&this.notify("selectToBoundary",r.host,t,"end")};this.setupDocumentListener("mouseup",t=>{setTimeout(()=>{this.selectionWatcher.selectionChanged(),e(t)},0)}),this.setupDocumentListener("keyup",t=>{this.getEditableBlockByEvent(t)&&(this.selectionWatcher.selectionChanged(),e(t))})}}function In(n,...e){const t={...n};for(const r of e)if(!(!r||typeof r!="object"))for(const i in r){if(!Object.prototype.hasOwnProperty.call(r,i))continue;const s=r[i],o=t[i];s&&typeof s=="object"&&!Array.isArray(s)&&o&&typeof o=="object"&&!Array.isArray(o)?t[i]=In({},o,s):t[i]=s}return t}class ji{constructor(e){this.spellcheckService=e}check(e,t){if(!e)return t(null);const r=en(e);this.spellcheckService(r,i=>i&&i.length>0?t(null,i):t(null))}}const Vi={A0:"no-break space",2e3:"en quad",2001:"em quad",2002:"en space",2003:"em space",2004:"three-per-em space",2005:"four-per-em space",2006:"six-per-em space",2007:"figure space",2008:"punctuation space",2009:"thin space","200A":"hair space","202F":"narrow no-break space","205F":"medium mathematical space",3e3:"ideographic space"},Ui="\\u2000-\\u200A\\u202F\\u205F\\u3000",Qi=new RegExp(`[${Ui}]`,"g");class zi{constructor(e){this.marker=e}findMatches(e){return e?[...e.matchAll(Qi)].map(r=>this.prepareMatch(r)):void 0}prepareMatch(e){const t=e.index,r=Zi(e[0]),i=Vi[r]||"unknown whitespace";return{startIndex:t,endIndex:t+e.length,match:e[0],title:`${i} (\\u${r})`,marker:this.marker}}}function Zi(n){return`${n.charCodeAt(0).toString(16).toUpperCase()}`}class Ki{constructor(){this.matches=[]}addMatches(e){e?.length&&(this.matches=Gi(this.matches,e))}}function Gi(n,e){let t;const r=n.length,i=e.length;let s=-1;const o=[],a={a1:n,i1:0,a2:e,i2:0};for(;a.i1<r||a.i2<i;)t=Xi(a),t&&t.startIndex>=s?(o.push(t),s=t.endIndex):t&&(s=t.endIndex);return o}function Xi(n){const e=n.i1,t=n.i2,r=n.a1[e],i=n.a2[t];return r&&i&&r.startIndex<i.startIndex?(n.i1=e+1,r):r&&i?(n.i2=t+1,i):r?(n.i1=e+1,r):i?(n.i2=t+1,i):void 0}class Yi{constructor(e,t,r){this.editable=e,this.win=e.win,this.focusedEditableHost=void 0,this.currentlyCheckedEditableHost=void 0,this.timeout={};const i={checkOnInit:!1,checkOnFocus:!1,checkOnChange:!0,throttle:1e3,removeOnCorrection:!0,spellcheck:{marker:'<span class="highlight-spellcheck"></span>',throttle:1e3,spellcheckService:function(){}},whitespace:{marker:'<span class="highlight-whitespace"></span>'}};this.config=In({},i,t);const s=this.config.spellcheck.spellcheckService,o=this.config.spellcheck.marker,a=this.config.whitespace.marker,l=q.createMarkerNode(a,"whitespace",this.win),u=q.createMarkerNode(o,"spellcheck",this.win);if(!l||!u)throw new Error("Failed to create marker nodes");this.spellcheckMarkerNode=u,this.spellcheckService=new ji(s),this.whitespace=new zi(l),this.setupListeners()}setupListeners(){this.config.checkOnFocus&&(this.editable.on("focus",e=>this.onFocus(e)),this.editable.on("blur",e=>this.onBlur(e))),(this.config.checkOnChange||this.config.removeOnCorrection)&&this.editable.on("change",e=>this.onChange(e)),this.config.checkOnInit&&this.editable.on("init",e=>this.onInit(e))}onInit(e){this.highlight(e)}onFocus(e){this.focusedEditableHost!==e&&(this.focusedEditableHost=e,this.editableHasChanged(e,void 0))}onBlur(e){this.focusedEditableHost===e&&(this.focusedEditableHost=void 0)}onChange(e){this.config.checkOnChange&&this.editableHasChanged(e,this.config.throttle),this.config.removeOnCorrection&&this.removeHighlightsAtCursor(e)}editableHasChanged(e,t){this.timeout.id&&this.timeout.editableHost===e&&clearTimeout(this.timeout.id);const r=setTimeout(()=>{this.highlight(e),this.timeout={}},t||0);this.timeout={id:r,editableHost:e}}highlight(e){const t=G.extractText(e);this.spellcheckService.check(t,(r,i)=>{if(r||!e.isConnected)return;const s=G.extractText(e),o=new Ki;if(i&&i.length>0){const l=Ni(s,i,this.spellcheckMarkerNode);o.addMatches(l)}const a=this.whitespace.findMatches(s);if(a){const l=a.map(u=>({startIndex:u.startIndex||0,endIndex:u.endIndex,match:u.match,marker:u.marker}));o.addMatches(l)}this.safeHighlightMatches(e,o.matches)})}safeHighlightMatches(e,t){const r=this.editable.getSelection(e);r?r.retainVisibleSelection(()=>{this.highlightMatches(e,t)}):this.highlightMatches(e,t),this.editable.dispatcher&&this.editable.dispatcher.notify("spellcheckUpdated",e)}highlightMatches(e,t){this.removeHighlights(e),t&&t.length>0&&G.highlightMatches(e,t)}removeHighlights(e){const t=It(e,this.win.document);if(t)for(const r of Y('[data-highlight="spellcheck"], [data-highlight="whitespace"]',this.win.document,t))K(r)}removeHighlightsAtCursor(e){const t=It(e,this.win.document);if(!t)return;e=t;const r=this.editable.getSelection(e);if(r&&r.isCursor){let i=r.range.startContainer;i.nodeType===R&&(i=i.parentNode);let s;do{if(i===e)return;const o=i.getAttribute("data-highlight");if(o==="spellcheck"||o==="whitespace"){s=i.getAttribute("data-word-id");break}}while(i=i.parentNode);s&&r.retainVisibleSelection(()=>{for(const o of Y(`[data-word-id="${s}"]`,this.win.document,t))K(o)})}}}function de(...n){if(S.log===!1||!global.console)return;const e=n.length===1?n[0]:n;n.length!==1&&e[e.length-1]==="trace"&&(e.pop(),console.trace&&console.trace()),console.log(e)}function Ji(n){const e=n.win.document;return{focus(t){Vt(t)&&t.appendChild(e.createTextNode("\uFEFF"))},blur(t){e.activeElement!==t&&tn(t)},selection(t,r){de(r?"Default selection behavior":"Default selection empty behavior")},cursor(t,r){de("Default cursor behavior")},newline(t,r){if(r.isAtTextEnd()){const i=e.createElement("br");r.insertBefore(i);const s=i.nextSibling;(s?.nodeType!==R||s.textContent?.[0]!=="\uFEFF")&&r.insertAfter(e.createTextNode("\uFEFF"))}else r.insertBefore(e.createElement("br"));r.setVisibleSelection()},insert(t,r,i){const s=t.cloneNode(!1);s.id&&s.removeAttribute("id"),r==="before"?t.parentNode?.insertBefore(s,t):t.parentNode?.insertBefore(s,t.nextSibling),n.createCursorAtEnd(s)?.setVisibleSelection()},split(t,r,i,s){const o=J(r),a=t.cloneNode(!1);a.appendChild(o);const l=t.parentNode;l&&l.insertBefore(a,t),t.innerHTML=i,xe(a),xe(t),s.setVisibleSelection()},merge(t,r,i){const s=r==="before"?t.previousElementSibling:t.nextElementSibling;if(!s)return;const o=ce(s,!1),a=ce(t,!1),l=e.createElement("div");l.innerHTML=o;const u=l.textContent?.length||0;l.innerHTML=a;const d=l.textContent?.length||0,c=r==="before"?o+a:a+o;t.innerHTML=c,s.remove();const y=r==="before"?u:d;n.createCursorAtCharacterOffset({element:t,offset:y})},empty(t){de("Default empty behavior")},switch(t,r,i){switch(r){case"before":const s=t.previousElementSibling;if(s){const a=n.createCursorAtEnd(s);a&&a.setVisibleSelection()}break;case"after":const o=t.nextElementSibling;if(o){const a=n.createCursorAtBeginning(o);a&&a.setVisibleSelection()}break}},move(t,r,i){de("Default move behavior")},paste(t,r,i){if(i.insertBefore(r[0]),r.length<=1){i.setVisibleSelection();return}const s=t.parentNode;if(!s)return;let o=t;r.slice(1).forEach(l=>{const u=t.cloneNode(!1);u.id&&u.removeAttribute("id");const d=J(l);u.appendChild(d),s.insertBefore(u,o.nextSibling),o=u});const a=n.createCursorAtEnd(o);a&&a.setVisibleSelection()},clipboard(t,r,i){de("Default clipboard behavior")},toggleBold(t){t.toggleBold()},toggleEmphasis(t){t.toggleEmphasis()}}}function es(n){const e=Ji(n);return{focus(t){e.focus(t)},blur(t){e.blur(t)},selection(t,r){e.selection(t,r)},cursor(t,r){e.cursor(t,r)},newline(t,r){e.newline(t,r)},split(t,r,i,s){e.split(t,r,i,s)},insert(t,r,i){e.insert(t,r,i)},merge(t,r,i){e.merge(t,r,i)},empty(t){e.empty(t)},switch(t,r,i){e.switch(t,r,i)},move(t,r,i){e.move(t,r,i)},clipboard(t,r,i){e.clipboard(t,r,i)},paste(t,r,i){e.paste(t,r,i)},toggleBold(t){e.toggleBold(t)},toggleEmphasis(t){e.toggleEmphasis(t)}}}function mt(n){return[...new oe(n,"getNextTextNode")]}function Dn({textNodes:n,absOffset:e}){let t=0,r=0,i;for(let s=0;s<n.length;s++){const o=n[s],a=o.textContent?.length||0;if(e<=t+a){i=o,r=e-t;break}t+=a}return{node:i,relativeOffset:r}}function ts(n){const e=mt(n),t=(r,i)=>r+(i.textContent?.length||0);return e.reduce(t,0)}function ns({host:n,requiredOnFirstLine:e,requiredOnLastLine:t,positionX:r}){const i=n.ownerDocument.createRange();i.selectNodeContents(n);let s;try{s=i.getBoundingClientRect()}catch{s=n.getBoundingClientRect()||{left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0,toJSON:()=>({})}}const o=ts(n),a=mt(n);if(o===0)return{wasFound:!1};const l={currentOffset:Math.floor(o/2),leftLimit:0,rightLimit:o};let u=l.currentOffset,d=0,c=20;for(;l.leftLimit<l.rightLimit&&c>0;){c=c-1,u=l.currentOffset;const x=Wn({textNodes:a,offset:l.currentOffset});let w;try{w=x.getBoundingClientRect()}catch{w={left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0,toJSON:()=>({})}}if(d=Math.abs(w.left-r),e&&s.top!==w.top){Pn(l);continue}else if(t&&s.bottom!==w.bottom){Hn(l);continue}r<w.left?Pn(l):Hn(l)}const y=Wn({textNodes:a,offset:l.currentOffset});let b;try{b=y.getBoundingClientRect()}catch{b={left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0,toJSON:()=>({})}}const E=Math.abs(b.left-r);return E<d&&(d=E,u=l.currentOffset),{distance:d,offset:u,wasFound:!0}}function Pn(n){n.rightLimit=n.currentOffset,n.currentOffset=Math.floor((n.currentOffset+n.leftLimit)/2)}function Hn(n){n.leftLimit=n.currentOffset,n.currentOffset=Math.ceil((n.currentOffset+n.rightLimit)/2)}function Wn({textNodes:n,offset:e}){const{node:t,relativeOffset:r}=Dn({textNodes:n,absOffset:e});if(!t)throw new Error("Could not find text node for offset");const i=t.ownerDocument.createRange();return i.setStart(t,r),i.collapse(!0),i}class ge{constructor(e){const t={window,defaultBehavior:!0,mouseMoveSelectionChanges:!1,browserSpellcheck:!0};this.config=Object.assign(t,e),this.win=this.config.window,this.editableSelector=`.${S.editableClass}`,this.dispatcher=new qi(this),this.config.defaultBehavior===!0&&this.dispatcher.on(es(this))}static getGlobalConfig(){return S}static globalConfig(e){Object.assign(S,e),xn(S)}add(e,t){return this.enable(e,t),this}remove(e){const t=Y(e,this.win.document);this.disable(t);for(const r of t)r.classList.remove(S.editableDisabledClass);return this}disable(e){const t=Y(e||`.${S.editableClass}`,this.win.document);for(const r of t)Jr(r);return this}enable(e,t){const r=typeof t=="boolean"?{normalize:t}:t??{},{normalize:i=!1,plainText:s=!1}=r,o=this.config.browserSpellcheck,a=Y(e||`.${S.editableDisabledClass}`,this.win.document);for(const l of a)Yr(l,{normalize:i,plainText:s,shouldSpellcheck:o}),this.dispatcher.notify("init",l);return this}suspend(e){const t=Y(e||`.${S.editableClass}`,this.win.document);for(const r of t)r.removeAttribute("contenteditable");return this.dispatcher.suspend(),this}continue(e){const t=Y(e||`.${S.editableClass}`,this.win.document);for(const r of t)r.setAttribute("contenteditable","true");return this.dispatcher.continue(),this}createCursor(e,t="beginning"){const r=O.findHost(e,this.editableSelector);if(!r)return;const i=z(this.win);return t==="beginning"||t==="end"?(i.selectNodeContents(e),i.collapse(t==="beginning")):e!==r?t==="before"?(i.setStartBefore(e),i.setEndBefore(e)):t==="after"&&(i.setStartAfter(e),i.setEndAfter(e)):Q("EditableJS: cannot create cursor outside of an editable block."),new O(r,i)}createCursorAtCharacterOffset({element:e,offset:t}){const r=mt(e),{node:i,relativeOffset:s}=Dn({textNodes:r,absOffset:t});if(!i)throw new Error("Could not find text node for offset");const o=z(this.win);o.setStart(i,s),o.collapse(!0);const a=O.findHost(e,this.editableSelector);if(!a)throw new Error("No editable host found");const l=new O(a,o);return l.setVisibleSelection(),l}createCursorAtBeginning(e){return this.createCursor(e,"beginning")}createCursorAtEnd(e){return this.createCursor(e,"end")}createCursorBefore(e){return this.createCursor(e,"before")}createCursorAfter(e){return this.createCursor(e,"after")}getContent(e){return ce(e)}appendTo(e,t){const r=Se(e,this.win.document),i=this.createCursor(r,"end");if(!i)throw new Error("Could not create cursor");return i.insertAfter(typeof t=="string"?J(t):t),i}prependTo(e,t){const r=Se(e,this.win.document),i=this.createCursor(r,"beginning");if(!i)throw new Error("Could not create cursor");return i.insertBefore(typeof t=="string"?J(t):t),i}getSelection(e){const t=this.dispatcher.selectionWatcher.getFreshSelection();if(!e||!t)return t;const r=t.range;if(e?.isConnected&&Nr(e,r))return t}setupHighlighting(e){return this.highlighting=new Yi(this,e,void 0),this}setupSpellcheck(e){let t;return e.markerNode&&(t=e.markerNode.outerHTML),this.setupHighlighting({throttle:e.throttle,spellcheck:{marker:t,spellcheckService:e.spellcheckService}}),this.spellcheck={checkSpelling:r=>{this.highlighting?.highlight(r)}},this}highlight({editableHost:e,text:t,highlightId:r,textRange:i,raiseEvents:s,type:o="comment"}){return i?typeof i.start!="number"||typeof i.end!="number"?(Q("Error in Editable.highlight: You passed a textRange object with invalid keys. Expected shape: { start: Number, end: Number }"),-1):i.start===i.end?(Q("Error in Editable.highlight: You passed a textRange object with equal start and end offsets, which is considered a cursor and therefore unfit to create a highlight."),-1):q.highlightRange(e,t,r,i.start,i.end,s?this.dispatcher:void 0,this.win,o):q.highlightText(e,t,r,o,s?this.dispatcher:void 0,this.win)||-1}getHighlightPositions({editableHost:e,type:t}){const r=q.extractHighlightedRanges(e,t);if(!r)return{};const i={};for(const s in r){const{start:o,end:a,text:l}=r[s];i[s]={start:o,end:a,text:l}}return i}removeHighlight({editableHost:e,highlightId:t,raiseEvents:r}){q.removeHighlight(e,t,r?this.dispatcher:void 0)}decorateHighlight({editableHost:e,highlightId:t,addCssClass:r,removeCssClass:i}){q.updateHighlight(e,t,r,i)}on(e,t){return this.dispatcher.on(e,t),this}off(...e){return this.dispatcher.off.apply(this.dispatcher,e),this}unload(){return this.dispatcher.unload(),this}findClosestCursorOffset({element:e,origCoordinates:t,requiredOnFirstLine:r=!1,requiredOnLastLine:i=!1}){const s=this.dispatcher.switchContext&&this.dispatcher.switchContext.positionX!==void 0?this.dispatcher.switchContext.positionX:t.left;return ns({host:e,requiredOnFirstLine:r,requiredOnLastLine:i,positionX:s})}}ge.parser=Or,ge.content=Xr,["focus","blur","flow","selection","cursor","newline","insert","split","merge","empty","change","switch","move","clipboard","paste","spellcheckUpdated","selectToBoundary"].forEach(n=>{ge.prototype[n]=function(e){return this.on(n,e)}});var pe,N,qn,te,jn,Vn,Un,Qn,bt,yt,vt,me={},zn=[],rs=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Te=Array.isArray;function j(n,e){for(var t in e)n[t]=e[t];return n}function wt(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function is(n,e,t){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?pe.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)o[s]===void 0&&(o[s]=n.defaultProps[s]);return be(n,o,r,i,null)}function be(n,e,t,r,i){var s={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++qn,__i:-1,__u:0};return i==null&&N.vnode!=null&&N.vnode(s),s}function Ne(n){return n.children}function V(n,e){this.props=n,this.context=e}function re(n,e){if(e==null)return n.__?re(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?re(n):null}function Zn(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Zn(n)}}function Kn(n){(!n.__d&&(n.__d=!0)&&te.push(n)&&!Fe.__r++||jn!=N.debounceRendering)&&((jn=N.debounceRendering)||Vn)(Fe)}function Fe(){for(var n,e,t,r,i,s,o,a=1;te.length;)te.length>a&&te.sort(Un),n=te.shift(),a=te.length,n.__d&&(t=void 0,r=void 0,i=(r=(e=n).__v).__e,s=[],o=[],e.__P&&((t=j({},r)).__v=r.__v+1,N.vnode&&N.vnode(t),_t(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,s,i??re(r),!!(32&r.__u),o),t.__v=r.__v,t.__.__k[t.__i]=t,er(s,t,o),r.__e=r.__=null,t.__e!=i&&Zn(t)));Fe.__r=0}function Gn(n,e,t,r,i,s,o,a,l,u,d){var c,y,b,E,x,w,C,h=r&&r.__k||zn,f=e.length;for(l=ss(t,e,h,l,f),c=0;c<f;c++)(b=t.__k[c])!=null&&(y=b.__i==-1?me:h[b.__i]||me,b.__i=c,w=_t(n,b,y,i,s,o,a,l,u,d),E=b.__e,b.ref&&y.ref!=b.ref&&(y.ref&&xt(y.ref,null,b),d.push(b.ref,b.__c||E,b)),x==null&&E!=null&&(x=E),(C=!!(4&b.__u))||y.__k===b.__k?l=Xn(b,l,n,C):typeof b.type=="function"&&w!==void 0?l=w:E&&(l=E.nextSibling),b.__u&=-7);return t.__e=x,l}function ss(n,e,t,r,i){var s,o,a,l,u,d=t.length,c=d,y=0;for(n.__k=new Array(i),s=0;s<i;s++)(o=e[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=n.__k[s]=be(null,o,null,null,null):Te(o)?o=n.__k[s]=be(Ne,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?o=n.__k[s]=be(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):n.__k[s]=o,l=s+y,o.__=n,o.__b=n.__b+1,a=null,(u=o.__i=os(o,t,l,c))!=-1&&(c--,(a=t[u])&&(a.__u|=2)),a==null||a.__v==null?(u==-1&&(i>d?y--:i<d&&y++),typeof o.type!="function"&&(o.__u|=4)):u!=l&&(u==l-1?y--:u==l+1?y++:(u>l?y--:y++,o.__u|=4))):n.__k[s]=null;if(c)for(s=0;s<d;s++)(a=t[s])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=re(a)),nr(a,a));return r}function Xn(n,e,t,r){var i,s;if(typeof n.type=="function"){for(i=n.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=n,e=Xn(i[s],e,t,r));return e}n.__e!=e&&(r&&(e&&n.type&&!e.parentNode&&(e=re(n)),t.insertBefore(n.__e,e||null)),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function os(n,e,t,r){var i,s,o,a=n.key,l=n.type,u=e[t],d=u!=null&&(2&u.__u)==0;if(u===null&&a==null||d&&a==u.key&&l==u.type)return t;if(r>(d?1:0)){for(i=t-1,s=t+1;i>=0||s<e.length;)if((u=e[o=i>=0?i--:s++])!=null&&(2&u.__u)==0&&a==u.key&&l==u.type)return o}return-1}function Yn(n,e,t){e[0]=="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||rs.test(e)?t:t+"px"}function Re(n,e,t,r,i){var s,o;e:if(e=="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||Yn(n.style,e,"");if(t)for(e in t)r&&t[e]==r[e]||Yn(n.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(Qn,"$1")),o=e.toLowerCase(),e=o in n||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=t,t?r?t.u=r.u:(t.u=bt,n.addEventListener(e,s?vt:yt,s)):n.removeEventListener(e,s?vt:yt,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function Jn(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=bt++;else if(e.t<t.u)return;return t(N.event?N.event(e):e)}}}function _t(n,e,t,r,i,s,o,a,l,u){var d,c,y,b,E,x,w,C,h,f,g,p,m,_,k,v,F,T=e.type;if(e.constructor!==void 0)return null;128&t.__u&&(l=!!(32&t.__u),s=[a=e.__e=t.__e]),(d=N.__b)&&d(e);e:if(typeof T=="function")try{if(C=e.props,h="prototype"in T&&T.prototype.render,f=(d=T.contextType)&&r[d.__c],g=d?f?f.props.value:d.__:r,t.__c?w=(c=e.__c=t.__c).__=c.__E:(h?e.__c=c=new T(C,g):(e.__c=c=new V(C,g),c.constructor=T,c.render=ls),f&&f.sub(c),c.state||(c.state={}),c.__n=r,y=c.__d=!0,c.__h=[],c._sb=[]),h&&c.__s==null&&(c.__s=c.state),h&&T.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=j({},c.__s)),j(c.__s,T.getDerivedStateFromProps(C,c.__s))),b=c.props,E=c.state,c.__v=e,y)h&&T.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),h&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(h&&T.getDerivedStateFromProps==null&&C!==b&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(C,g),e.__v==t.__v||!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(C,c.__s,g)===!1){for(e.__v!=t.__v&&(c.props=C,c.state=c.__s,c.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function($){$&&($.__=e)}),p=0;p<c._sb.length;p++)c.__h.push(c._sb[p]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(C,c.__s,g),h&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(b,E,x)})}if(c.context=g,c.props=C,c.__P=n,c.__e=!1,m=N.__r,_=0,h){for(c.state=c.__s,c.__d=!1,m&&m(e),d=c.render(c.props,c.state,c.context),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[]}else do c.__d=!1,m&&m(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++_<25);c.state=c.__s,c.getChildContext!=null&&(r=j(j({},r),c.getChildContext())),h&&!y&&c.getSnapshotBeforeUpdate!=null&&(x=c.getSnapshotBeforeUpdate(b,E)),v=d,d!=null&&d.type===Ne&&d.key==null&&(v=tr(d.props.children)),a=Gn(n,Te(v)?v:[v],e,t,r,i,s,o,a,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&o.push(c),w&&(c.__E=c.__=null)}catch($){if(e.__v=null,l||s!=null)if($.then){for(e.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else{for(F=s.length;F--;)wt(s[F]);Ct(e)}else e.__e=t.__e,e.__k=t.__k,$.then||Ct(e);N.__e($,e,t)}else s==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):a=e.__e=as(t.__e,e,t,r,i,s,o,l,u);return(d=N.diffed)&&d(e),128&e.__u?void 0:a}function Ct(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(Ct)}function er(n,e,t){for(var r=0;r<t.length;r++)xt(t[r],t[++r],t[++r]);N.__c&&N.__c(e,n),n.some(function(i){try{n=i.__h,i.__h=[],n.some(function(s){s.call(i)})}catch(s){N.__e(s,i.__v)}})}function tr(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:Te(n)?n.map(tr):j({},n)}function as(n,e,t,r,i,s,o,a,l){var u,d,c,y,b,E,x,w=t.props||me,C=e.props,h=e.type;if(h=="svg"?i="http://www.w3.org/2000/svg":h=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((b=s[u])&&"setAttribute"in b==!!h&&(h?b.localName==h:b.nodeType==3)){n=b,s[u]=null;break}}if(n==null){if(h==null)return document.createTextNode(C);n=document.createElementNS(i,h,C.is&&C),a&&(N.__m&&N.__m(e,s),a=!1),s=null}if(h==null)w===C||a&&n.data==C||(n.data=C);else{if(s=s&&pe.call(n.childNodes),!a&&s!=null)for(w={},u=0;u<n.attributes.length;u++)w[(b=n.attributes[u]).name]=b.value;for(u in w)if(b=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=b;else if(!(u in C)){if(u=="value"&&"defaultValue"in C||u=="checked"&&"defaultChecked"in C)continue;Re(n,u,null,b,i)}}for(u in C)b=C[u],u=="children"?y=b:u=="dangerouslySetInnerHTML"?d=b:u=="value"?E=b:u=="checked"?x=b:a&&typeof b!="function"||w[u]===b||Re(n,u,b,w[u],i);if(d)a||c&&(d.__html==c.__html||d.__html==n.innerHTML)||(n.innerHTML=d.__html),e.__k=[];else if(c&&(n.innerHTML=""),Gn(e.type=="template"?n.content:n,Te(y)?y:[y],e,t,r,h=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:t.__k&&re(t,0),a,l),s!=null)for(u=s.length;u--;)wt(s[u]);a||(u="value",h=="progress"&&E==null?n.removeAttribute("value"):E!=null&&(E!==n[u]||h=="progress"&&!E||h=="option"&&E!=w[u])&&Re(n,u,E,w[u],i),u="checked",x!=null&&x!=n[u]&&Re(n,u,x,w[u],i))}return n}function xt(n,e,t){try{if(typeof n=="function"){var r=typeof n.__u=="function";r&&n.__u(),r&&e==null||(n.__u=n(e))}else n.current=e}catch(i){N.__e(i,t)}}function nr(n,e,t){var r,i;if(N.unmount&&N.unmount(n),(r=n.ref)&&(r.current&&r.current!=n.__e||xt(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){N.__e(s,e)}r.base=r.__P=null}if(r=n.__k)for(i=0;i<r.length;i++)r[i]&&nr(r[i],e,t||typeof n.type!="function");t||wt(n.__e),n.__c=n.__=n.__e=void 0}function ls(n,e,t){return this.constructor(n,t)}function cs(n,e,t){var r,i,s,o;e==document&&(e=document.documentElement),N.__&&N.__(n,e),i=(r=!1)?null:e.__k,s=[],o=[],_t(e,n=e.__k=is(Ne,null,[n]),i||me,me,e.namespaceURI,i?null:e.firstChild?pe.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,o),er(s,n,o)}function us(n,e,t){var r,i,s,o,a=j({},n.props);for(s in n.type&&n.type.defaultProps&&(o=n.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!=null?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?pe.call(arguments,2):t),be(n.type,a,r||n.key,i||n.ref,null)}pe=zn.slice,N={__e:function(n,e,t,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(n)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(n,r||{}),o=i.__d),o)return i.__E=i}catch(a){n=a}throw n}},qn=0,V.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=j({},this.state),typeof n=="function"&&(n=n(j({},t),this.props)),n&&j(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Kn(this))},V.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Kn(this))},V.prototype.render=Ne,te=[],Vn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Un=function(n,e){return n.__v.__b-e.__v.__b},Fe.__r=0,Qn=/(PointerCapture)$|Capture$/i,bt=0,yt=Jn(!1),vt=Jn(!0);var hs=0;function L(n,e,t,r,i,s){e||(e={});var o,a,l=e;if("ref"in l)for(a in l={},e)a=="ref"?o=e[a]:l[a]=e[a];var u={type:n,props:l,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--hs,__i:-1,__u:0,__source:i,__self:s};if(typeof n=="function"&&(o=n.defaultProps))for(a in o)l[a]===void 0&&(l[a]=o[a]);return N.vnode&&N.vnode(u),u}var St={exports:{}},kt,rr;function fs(){if(rr)return kt;rr=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kt=n,kt}var Et,ir;function ds(){if(ir)return Et;ir=1;var n=fs();function e(){}function t(){}return t.resetWarningCache=e,Et=function(){function r(o,a,l,u,d,c){if(c!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Et}var sr;function gs(){return sr||(sr=1,St.exports=ds()()),St.exports}var ie=gs();class or extends V{constructor(e){super(e),this.state={isEntering:!1,isEntered:!1},this.timeoutId=null}componentDidMount(){if(this.props.in){this.setState({isEntering:!0}),requestAnimationFrame(()=>{this.setState({isEntered:!0})});const e=this.props.timeout||0;e>0&&(this.timeoutId=setTimeout(()=>{this.setState({isEntering:!1})},e))}}componentWillUnmount(){this.timeoutId&&clearTimeout(this.timeoutId)}render(){const{children:e,classNames:t}=this.props,{isEntering:r,isEntered:i}=this.state,s=Array.isArray(e)?e[0]:e;let o=s.props.className||"";return r&&(o+=` ${t}-enter`),i&&(o+=` ${t}-enter-active`),us(s,{className:o.trim()})}}class ps extends V{render(){return this.props.children||null}}class ar extends V{render(){const e={classNames:"events",in:!0,timeout:500},t=L(or,{...e,children:L("div",{children:"Nothing to see yet."})},"empty-entry"),r=this.props.list.map(function(i){return L(or,{...e,children:L("div",{className:"events-list-entry",children:[L("span",{className:"event-name",children:i.name}),i.content]})},i.id)});return L("div",{className:"events-list",children:L(ps,{children:r.length?r:t,enter:!0,exit:!1})})}}ar.propTypes={list:ie.PropTypes.array};class lr extends V{render(){return L("span",{className:"cursor-position",children:[this.props.before,L("i",{children:" "}),this.props.after]})}}lr.propTypes={before:ie.PropTypes.string,after:ie.PropTypes.string};class cr extends V{render(){return L("span",{className:"selection",children:this.props.content})}}cr.propTypes={content:ie.PropTypes.string};class At extends V{render(){return L("span",{children:[L("span",{className:"clipboard-action",children:this.props.action})," ",L("span",{className:"clipboard-content",children:this.props.content})]})}}At.propTypes={action:ie.PropTypes.string,content:ie.PropTypes.string};let ms=0;const bs=7,Le=[];function ys(n){Le.unshift(n),Le.length>bs&&vs()}function vs(){Le.pop(),Tt()}function D(n){n.id=++ms,ys(n),Tt()}function Tt(){const n=document.querySelector(".paragraph-example-events");n&&cs(L(ar,{list:Le}),n)}function P(n){return!!ae(n,".paragraph-example")}function ws(n){n.on("focus",e=>{P(e)&&D({name:"focus"})}).on("blur",e=>{P(e)&&D({name:"blur"})}).on("cursor",(e,t)=>{if(!P(e)||!t)return;let r=t.before().textContent,i=t.after().textContent;const s=/[^ ]{0,10}[ ]?$/.exec(r),o=/^[ ]?[^ ]{0,10}/.exec(i);s&&(r=s[0]),s&&(i=o[0]),D({name:"cursor",content:L(lr,{before:r,after:i})})}).on("selection",(e,t)=>{P(e)&&t&&D({name:"selection",content:L(cr,{content:t.text()})})}).on("change",e=>{P(e)&&D({name:"change"})}).on("clipboard",(e,t,r)=>{P(e)&&D({name:"clipboard",content:L(At,{action:t,content:r.text()})})}).on("paste",(e,t,r)=>{if(!P(e))return;let i=t.join(" ");i.length>40&&(i=`${i.substring(0,38)}...`),D({name:"paste",content:L(At,{content:i})})}).on("insert",(e,t,r)=>{if(!P(e))return;D({name:"insert",content:t==="after"?"Insert a new block after the current one":"Insert a new block before the current one"})}).on("split",(e,t,r,i)=>{P(e)&&D({name:"split",content:L("span",{children:"Split this block"})})}).on("merge",(e,t)=>{if(!P(e))return;D({name:"merge",content:L("span",{children:t==="after"?"Merge this block with the following block":"Merge this block with the previous block"})})}).on("switch",(e,t,r)=>{if(!P(e))return;D({name:"switch",content:L("span",{children:t==="down"?"Set the focus to the following block":"Set the focus to the previous block"})})}).on("newline",e=>{P(e)&&D({name:"newline"})}),Tt()}const I=new ge({browserSpellcheck:!1});I.enable(".paragraph-example p",{normalize:!0}),ws(I),I.enable(".formatting-example p",{normalize:!0}),_s(),I.enable(".plain-text-example.example-sheet",{plainText:!0}),I.enable(".styling-example p",{normalize:!0});const ur=document.querySelector(".formatting-example p");dr(ur),I.on("change",n=>{n===ur&&dr(n)});const hr=document.querySelector('select[name="editable-styles"]');hr&&hr.addEventListener("change",n=>{for(const e of document.querySelectorAll(".styling-example p"))e.classList.remove("example-style-default","example-style-dark"),e.classList.add(`example-style-${n.target.value}`)}),I.add(".inline-example span");const fr=document.querySelector(".iframe-example");fr&&fr.addEventListener("load",function(){const n=this.contentWindow,e=new ge({window:n}),t=this.contentDocument.body;e.add(t.querySelectorAll(".is-editable"))});let A;function _s(){const n=document.createElement("div");n.innerHTML=`<div class="selection-tip" style="display:none;"><button class="js-format js-format-bold"><img width="20" height=20" src="data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill: #eee"><path d="M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z" /></svg>')}"></button><button class="js-format js-format-italic"><img width="20" height=20" src="data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill: #eee"><path d="M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z" /></svg>')}"></button><button class="js-format js-format-underline"><img width="20" height=20" src="data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill: #eee"><path d="M5,21H19V19H5V21M12,17A6,6 0 0,0 18,11V3H15.5V11A3.5,3.5 0 0,1 12,14.5A3.5,3.5 0 0,1 8.5,11V3H6V11A6,6 0 0,0 12,17Z" /></svg>')}"></button><button class="js-format js-format-link"><img width="20" height=20" src="data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill: #eee"><path d="M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z" /></svg>')}"></button><button class="js-format js-format-quote"><img width="20" height=20" src="data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill: #eee"><path d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" /></svg>')}"></button><button class="js-format js-format-comment"><img width="20" height=20" src="data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" style="fill: #eee"><path d="M240-400h122l200-200q9-9 13.5-20.5T580-643q0-11-5-21.5T562-684l-36-38q-9-9-20-13.5t-23-4.5q-11 0-22.5 4.5T440-722L240-522v122Zm280-243-37-37 37 37ZM300-460v-38l101-101 20 18 18 20-101 101h-38Zm121-121 18 20-38-38 20 18Zm26 181h273v-80H527l-80 80ZM80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Zm126-240h594v-480H160v525l46-45Zm-46 0v-480 480Z"/></svg>')}"></button><button class="js-format js-format-emoji"><img width="20" height=20" src="data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill: #eee"><path d="M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M15.5,8A1.5,1.5 0 0,1 17,9.5A1.5,1.5 0 0,1 15.5,11A1.5,1.5 0 0,1 14,9.5A1.5,1.5 0 0,1 15.5,8M8.5,8A1.5,1.5 0 0,1 10,9.5A1.5,1.5 0 0,1 8.5,11A1.5,1.5 0 0,1 7,9.5A1.5,1.5 0 0,1 8.5,8M12,17.5C9.67,17.5 7.69,16.04 6.89,14H17.11C16.3,16.04 14.33,17.5 12,17.5Z" /></svg>')}"></button><button class="js-format js-format-whitespace"><img width="20" height=20" src="data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill: #eee"><path d="M3 15H5V19H19V15H21V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V15Z" /></svg>')}"></button><button class="js-format js-format-clear"><img width="20" height=20" src="data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill: #eee"><path d="M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z" /></svg>')}"></button></div>`;const e=n.firstElementChild;document.body.appendChild(e),I.selection((t,r)=>{if(A=r,!r){e.style.display="none";return}const i=Lr(window.getSelection())?.[0];e.style.display="block",e.style.position="fixed";const s=i.top-e.offsetHeight-15,o=i.left+i.width/2-e.offsetWidth/2;e.style.top=`${s}px`,e.style.left=`${o}px`}).blur(()=>{e.style.display="none"}),Cs(e)}function Cs(n){const e=(t,r,i)=>{for(const s of n.querySelectorAll(r))s.addEventListener(t,i)};e("mousedown",".js-format",t=>t.preventDefault()),e("click",".js-format-bold",t=>{A.isSelection&&(A.toggleBold(),A.triggerChange())}),e("click",".js-format-italic",t=>{A.isSelection&&(A.toggleEmphasis(),A.triggerChange())}),e("click",".js-format-underline",t=>{A.isSelection&&(A.toggleUnderline(),A.triggerChange())}),e("click",".js-format-link",t=>{A.isSelection&&(A.toggleLink("www.livingdocs.io"),A.triggerChange())}),e("click",".js-format-quote",t=>{A.isSelection&&(A.toggleSurround("«","»"),A.triggerChange())}),e("click",".js-format-comment",t=>{if(!A.isSelection)return;const r=A.getTextRange();A.highlightComment({textRange:r}),A.triggerChange()}),e("click",".js-format-emoji",t=>{A.isSelection&&(A.insertCharacter("😍"),A.triggerChange())}),e("click",".js-format-whitespace",t=>{A.isSelection&&(A.insertCharacter(" "),A.triggerChange())}),e("click",".js-format-clear",t=>{A.isSelection&&(A.removeFormatting(),A.triggerChange())})}function dr(n){const e=I.getContent(n),t=document.querySelector(".formatting-code-js");t&&(t.textContent=e.trim(),_r.highlightElement(t))}function xs(n,e){e(["happy"])}I.setupHighlighting({checkOnInit:!0,throttle:0,spellcheck:{marker:'<span class="highlight-spellcheck"></span>',spellcheckService:xs},whitespace:{marker:'<span class="highlight-whitespace"></span>'}});const Ss=document.querySelector(".highlighting-example p");I.add(Ss);const ks=document.querySelector(".whitespace-highlighting-example p");I.add(ks),I.add(".pasting-example p")})();
//# sourceMappingURL=bundle.js.map
